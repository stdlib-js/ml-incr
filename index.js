// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("path"),require("buffer")):"function"==typeof define&&define.amd?define(["path","buffer"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ns=t(e.require$$0,e.require$$0$1)}(this,(function(e,t){"use strict";var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var n,i=Object.defineProperty,o=Object.prototype,a=o.toString,u=o.__defineGetter__,s=o.__defineSetter__,f=o.__lookupGetter__,l=o.__lookupSetter__;n=function(){try{return r({},"x",{}),!0}catch(e){return!1}}()?i:function(e,t,r){var n,i,c,h;if("object"!=typeof e||null===e||"[object Array]"===a.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof r||null===r||"[object Array]"===a.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((i="value"in r)&&(f.call(e,t)||l.call(e,t)?(n=e.__proto__,e.__proto__=o,delete e[t],e[t]=r.value,e.__proto__=n):e[t]=r.value),c="get"in r,h="set"in r,i&&(c||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return c&&u&&u.call(e,t,r.get),h&&s&&s.call(e,t,r.set),e};var c=n;function h(e,t,r){c(e,t,{configurable:!1,enumerable:!0,writable:!1,value:r})}function p(e,t,r){c(e,t,{configurable:!1,enumerable:!1,writable:!1,value:r})}function g(e){return"number"==typeof e}var m="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function d(){return m&&"symbol"==typeof Symbol.toStringTag}var y=Object.prototype.toString;var v=Object.prototype.hasOwnProperty;function b(e,t){return null!=e&&v.call(e,t)}var w="function"==typeof Symbol?Symbol.toStringTag:"";var E=d()?function(e){var t,r,n;if(null==e)return y.call(e);r=e[w],t=b(e,w);try{e[w]=void 0}catch(t){return y.call(e)}return n=y.call(e),t?e[w]=r:delete e[w],n}:function(e){return y.call(e)},_=Number,T=_.prototype.toString;var O=d();function A(e){return"object"==typeof e&&(e instanceof _||(O?function(e){try{return T.call(e),!0}catch(e){return!1}}(e):"[object Number]"===E(e)))}function j(e){return g(e)||A(e)}p(j,"isPrimitive",g),p(j,"isObject",A);var R=Number.POSITIVE_INFINITY,x=_.NEGATIVE_INFINITY,N=Math.floor;function L(e){return N(e)===e}function V(e){return e<R&&e>x&&L(e)}function M(e){return g(e)&&V(e)}function S(e){return A(e)&&V(e.valueOf())}function I(e){return M(e)||S(e)}function k(e){return M(e)&&e>0}function B(e){return S(e)&&e.valueOf()>0}function P(e){return k(e)||B(e)}function F(e){return"boolean"==typeof e}p(I,"isPrimitive",M),p(I,"isObject",S),p(P,"isPrimitive",k),p(P,"isObject",B);var U=Boolean.prototype.toString;var C=d();function Y(e){return"object"==typeof e&&(e instanceof Boolean||(C?function(e){try{return U.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===E(e)))}function z(e){return F(e)||Y(e)}function q(){return new Function("return this;")()}p(z,"isPrimitive",F),p(z,"isObject",Y);var G="object"==typeof self?self:null,W="object"==typeof window?window:null,D="object"==typeof global?global:null;function $(e){if(arguments.length){if(!F(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return q()}if(G)return G;if(W)return W;if(D)return D;throw new Error("unexpected error. Unable to resolve global object.")}var H=$();function J(e,t,r){c(e,t,{configurable:!1,enumerable:!1,get:r})}var X={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function Z(e){return Math.abs(e)}function K(e,t){return t&&(2===e||3===e)}function Q(e,t){return t&&(1===e||3===e)}function ee(e,t,r){var n,i,o,a,u;for(n=e.length,i=r,o=r,u=0;u<n;u++){if(0===e[u])return[r,r];(a=t[u])>0?o+=a*(e[u]-1):a<0&&(i+=a*(e[u]-1))}return[i,o]}function te(e){return e.re}function re(e){return e.im}function ne(e){return"string"==typeof e}p(ee,"assign",(function(e,t,r,n){var i,o,a,u,s;for(i=e.length,o=r,a=r,s=0;s<i;s++){if(0===e[s])return n[0]=r,n[1]=r,n;(u=t[s])>0?a+=u*(e[s]-1):u<0&&(o+=u*(e[s]-1))}return n[0]=o,n[1]=a,n}));var ie=String.prototype.valueOf;var oe=d();function ae(e){return"object"==typeof e&&(e instanceof String||(oe?function(e){try{return ie.call(e),!0}catch(e){return!1}}(e):"[object String]"===E(e)))}function ue(e){return ne(e)||ae(e)}function se(e){return"number"==typeof e}function fe(e){var t,r="";for(t=0;t<e;t++)r+="0";return r}function le(e,t,r){var n=!1,i=t-e.length;return i<0||(function(e){return"-"===e[0]}(e)&&(n=!0,e=e.substr(1)),e=r?e+fe(i):fe(i)+e,n&&(e="-"+e)),e}p(ue,"isPrimitive",ne),p(ue,"isObject",ae);var ce=String.prototype.toLowerCase,he=String.prototype.toUpperCase;function pe(e){var t,r,n;switch(e.specifier){case"b":t=2;break;case"o":t=8;break;case"x":case"X":t=16;break;default:t=10}if(r=e.arg,n=parseInt(r,10),!isFinite(n)){if(!se(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===e.specifier||10!==t)&&(n=4294967295+n+1),n<0?(r=(-n).toString(t),e.precision&&(r=le(r,e.precision,e.padRight)),r="-"+r):(r=n.toString(t),n||e.precision?e.precision&&(r=le(r,e.precision,e.padRight)):r="",e.sign&&(r=e.sign+r)),16===t&&(e.alternate&&(r="0x"+r),r=e.specifier===he.call(e.specifier)?he.call(r):ce.call(r)),8===t&&e.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}function ge(e){return"string"==typeof e}var me=Math.abs,de=String.prototype.toLowerCase,ye=String.prototype.toUpperCase,ve=String.prototype.replace,be=/e\+(\d)$/,we=/e-(\d)$/,Ee=/^(\d+)$/,_e=/^(\d+)e/,Te=/\.0$/,Oe=/\.0*e/,Ae=/(\..*[^0])0*e/;function je(e){var t,r,n=parseFloat(e.arg);if(!isFinite(n)){if(!se(e.arg))throw new Error("invalid floating-point number. Value: "+r);n=e.arg}switch(e.specifier){case"e":case"E":r=n.toExponential(e.precision);break;case"f":case"F":r=n.toFixed(e.precision);break;case"g":case"G":me(n)<1e-4?((t=e.precision)>0&&(t-=1),r=n.toExponential(t)):r=n.toPrecision(e.precision),e.alternate||(r=ve.call(r,Ae,"$1e"),r=ve.call(r,Oe,"e"),r=ve.call(r,Te,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return r=ve.call(r,be,"e+0$1"),r=ve.call(r,we,"e-0$1"),e.alternate&&(r=ve.call(r,Ee,"$1."),r=ve.call(r,_e,"$1.e")),n>=0&&e.sign&&(r=e.sign+r),r=e.specifier===ye.call(e.specifier)?ye.call(r):de.call(r)}function Re(e){var t,r="";for(t=0;t<e;t++)r+=" ";return r}function xe(e,t,r){var n=t-e.length;return n<0?e:e=r?e+Re(n):Re(n)+e}var Ne=String.fromCharCode,Le=isNaN,Ve=Array.isArray;function Me(e){var t={};return t.specifier=e.specifier,t.precision=void 0===e.precision?1:e.precision,t.width=e.width,t.flags=e.flags||"",t.mapping=e.mapping,t}function Se(e){var t,r,n,i,o,a,u,s,f;if(!Ve(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(a="",u=1,s=0;s<e.length;s++)if(ge(n=e[s]))a+=n;else{if(t=void 0!==n.precision,!(n=Me(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+n+"`.");for(n.mapping&&(u=n.mapping),r=n.flags,f=0;f<r.length;f++)switch(i=r.charAt(f)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===n.width){if(n.width=parseInt(arguments[u],10),u+=1,Le(n.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(t&&"*"===n.precision){if(n.precision=parseInt(arguments[u],10),u+=1,Le(n.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,t=!1)}switch(n.arg=arguments[u],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":t&&(n.padZeros=!1),n.arg=pe(n);break;case"s":n.maxWidth=t?n.precision:-1;break;case"c":if(!Le(n.arg)){if((o=parseInt(n.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=Le(o)?String(n.arg):Ne(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":t||(n.precision=6),n.arg=je(n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=le(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=xe(n.arg,n.width,n.padRight)),a+=n.arg||"",u+=1}return a}var Ie=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function ke(e){var t={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(t.precision="1"),t}function Be(e){var t,r,n,i;for(r=[],i=0,n=Ie.exec(e);n;)(t=e.slice(i,Ie.lastIndex-n[0].length)).length&&r.push(t),r.push(ke(n)),i=Ie.lastIndex,n=Ie.exec(e);return(t=e.slice(i)).length&&r.push(t),r}function Pe(e){return"string"==typeof e}function Fe(e){var t,r,n;if(!Pe(e))throw new TypeError(Fe("invalid argument. First argument must be a string. Value: `%s`.",e));for(t=Be(e),(r=new Array(arguments.length))[0]=t,n=1;n<r.length;n++)r[n]=arguments[n];return Se.apply(null,r)}var Ue=/[-\/\\^$*+?.()|[\]{}]/g;var Ce=/./,Ye=$(),ze=Ye.document&&Ye.document.childNodes,qe=Int8Array;function Ge(){return/^\s*function\s*([^(]*)/i}var We=/^\s*function\s*([^(]*)/i;p(Ge,"REGEXP",We);var De=Array.isArray?Array.isArray:function(e){return"[object Array]"===E(e)};function $e(e){return null!==e&&"object"==typeof e}var He=function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!De(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}($e);function Je(e){return $e(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Xe(e){var t,r,n;if(("Object"===(r=E(e).slice(8,-1))||"Error"===r)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(t=We.exec(n.toString()))return t[1]}return Je(e)?"Buffer":r}p($e,"isObjectLikeArray",He);var Ze="function"==typeof Ce||"object"==typeof qe||"function"==typeof ze?function(e){return Xe(e).toLowerCase()}:function(e){var t;return null===e?"null":"object"===(t=typeof e)?Xe(e).toLowerCase():t};function Ke(e){return"function"===Ze(e)}var Qe=RegExp.prototype.exec;var et=d();function tt(e){return"object"==typeof e&&(e instanceof RegExp||(et?function(e){try{return Qe.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===E(e)))}function rt(e,t,r){if(!ne(e))throw new TypeError(Fe("invalid argument. First argument must be a string. Value: `%s`.",e));if(ne(t))t=function(e){var t,r;if(!ne(e))throw new TypeError(Fe("invalid argument. Must provide a regular expression string. Value: `%s`.",e));if("/"===e[0])for(r=e.length-1;r>=0&&"/"!==e[r];r--);return void 0===r||r<=0?e.replace(Ue,"\\$&"):(t=(t=e.substring(1,r)).replace(Ue,"\\$&"),e=e[0]+t+e.substring(r))}(t),t=new RegExp(t,"g");else if(!tt(t))throw new TypeError(Fe("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",t));if(!ne(r)&&!Ke(r))throw new TypeError(Fe("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",r));return e.replace(t,r)}var nt={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var it="function"==typeof Uint8Array;var ot="function"==typeof Uint8Array?Uint8Array:null;var at,ut="function"==typeof Uint8Array?Uint8Array:void 0;at=function(){var e,t,r;if("function"!=typeof ot)return!1;try{t=new ot(t=[1,3.14,-3.14,256,257]),r=t,e=(it&&r instanceof Uint8Array||"[object Uint8Array]"===E(r))&&1===t[0]&&3===t[1]&&253===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?ut:function(){throw new Error("not implemented")};var st=at,ft="function"==typeof Uint16Array;var lt="function"==typeof Uint16Array?Uint16Array:null;var ct,ht="function"==typeof Uint16Array?Uint16Array:void 0;ct=function(){var e,t,r;if("function"!=typeof lt)return!1;try{t=new lt(t=[1,3.14,-3.14,65536,65537]),r=t,e=(ft&&r instanceof Uint16Array||"[object Uint16Array]"===E(r))&&1===t[0]&&3===t[1]&&65533===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?ht:function(){throw new Error("not implemented")};var pt,gt=ct,mt={uint16:gt,uint8:st};(pt=new mt.uint16(1))[0]=4660;var dt=52===new mt.uint8(pt.buffer)[0],yt="function"==typeof ArrayBuffer;function vt(e){return yt&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===E(e)}var bt="function"==typeof Float64Array;var wt="function"==typeof Float64Array?Float64Array:null;function Et(){var e,t,r;if("function"!=typeof wt)return!1;try{t=new wt([1,3.14,-3.14,NaN]),r=t,e=(bt&&r instanceof Float64Array||"[object Float64Array]"===E(r))&&1===t[0]&&3.14===t[1]&&-3.14===t[2]&&t[3]!=t[3]}catch(t){e=!1}return e}var _t="function"==typeof Float64Array?Float64Array:void 0;var Tt=Et()?_t:function(){throw new Error("not implemented")},Ot="function"==typeof ArrayBuffer?ArrayBuffer:null;var At,jt="function"==typeof ArrayBuffer?ArrayBuffer:void 0;At=function(){var e,t,r;if("function"!=typeof Ot)return!1;try{(e=vt(r=new Ot(16))&&"function"==typeof Ot.isView)&&((t=new Tt(r))[0]=-3.14,t[1]=NaN,e=e&&Ot.isView(t)&&16===r.byteLength&&-3.14===t[0]&&t[1]!=t[1])}catch(t){e=!1}return e}()?jt:function(){throw new Error("not implemented")};var Rt=At,xt="function"==typeof DataView;var Nt="function"==typeof DataView?DataView:null;var Lt,Vt="function"==typeof DataView?DataView:void 0;Lt=function(){var e,t,r,n;if("function"!=typeof Nt)return!1;try{r=new Rt(24),t=new Nt(r,8),n=t,(e=(xt&&n instanceof DataView||"[object DataView]"===E(n))&&"function"==typeof t.getFloat64&&"function"==typeof t.setFloat64)&&(t.setFloat64(0,-3.14),t.setFloat64(8,NaN),e=e&&t.buffer===r&&16===t.byteLength&&8===t.byteOffset&&-3.14===t.getFloat64(0)&&t.getFloat64(8)!=t.getFloat64(8))}catch(t){e=!1}return e}()?Vt:function(){throw new Error("not implemented")};var Mt=Lt,St="function"==typeof BigInt?BigInt:void 0,It=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function kt(){return It.slice()}function Bt(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function Pt(e){return Object.keys(Object(e))}var Ft,Ut=void 0!==Object.keys;function Ct(e){return"[object Arguments]"===E(e)}Ft=function(){return Ct(arguments)}();var Yt=Ft;function zt(e){return e!=e}function qt(e){return g(e)&&zt(e)}function Gt(e){return A(e)&&zt(e.valueOf())}function Wt(e){return qt(e)||Gt(e)}p(Wt,"isPrimitive",qt),p(Wt,"isObject",Gt);var Dt=Object.prototype.propertyIsEnumerable;var $t=!Dt.call("beep","0");function Ht(e,t){var r;return null!=e&&(!(r=Dt.call(e,t))&&$t&&ue(e)?!qt(t=+t)&&M(t)&&t>=0&&t<e.length:r)}var Jt=4294967295;var Xt=Yt?Ct:function(e){return null!==e&&"object"==typeof e&&!De(e)&&"number"==typeof e.length&&L(e.length)&&e.length>=0&&e.length<=Jt&&b(e,"callee")&&!Ht(e,"callee")},Zt=Array.prototype.slice;function Kt(){}var Qt=Ht(Kt,"prototype"),er=!Ht({toString:null},"toString"),tr=9007199254740991;function rr(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&L(e.length)&&e.length>=0&&e.length<=tr}function nr(e,t,r){var n,i;if(!rr(e)&&!ne(e))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+e+"`.");if(0===(n=e.length))return-1;if(3===arguments.length){if(!M(r))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+r+"`.");if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(Wt(t)){for(;i<n;i++)if(Wt(e[i]))return i}else for(;i<n;i++)if(e[i]===t)return i;return-1}function ir(e){return e.constructor&&e.constructor.prototype===e}var or=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],ar="undefined"==typeof window?void 0:window;var ur=function(){var e;if("undefined"===Ze(ar))return!1;for(e in ar)try{-1===nr(or,e)&&b(ar,e)&&null!==ar[e]&&"object"===Ze(ar[e])&&ir(ar[e])}catch(e){return!0}return!1}(),sr="undefined"!=typeof window;var fr,lr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];fr=Ut?function(){return 2!==(Pt(arguments)||"").length}(1,2)?function(e){return Xt(e)?Pt(Zt.call(e)):Pt(e)}:Pt:function(e){var t,r,n,i,o,a,u;if(i=[],Xt(e)){for(u=0;u<e.length;u++)i.push(u.toString());return i}if("string"==typeof e){if(e.length>0&&!b(e,"0"))for(u=0;u<e.length;u++)i.push(u.toString())}else{if(!1==(n="function"==typeof e)&&!$e(e))return i;r=Qt&&n}for(o in e)r&&"prototype"===o||!b(e,o)||i.push(String(o));if(er)for(t=function(e){if(!1===sr&&!ur)return ir(e);try{return ir(e)}catch(e){return!1}}(e),u=0;u<lr.length;u++)a=lr[u],t&&"constructor"===a||!b(e,a)||i.push(String(a));return i};var cr=fr;p(kt,"enum",Bt),function(e,t){var r,n,i;for(r=cr(t),i=0;i<r.length;i++)h(e,n=r[i],t[n])}(kt,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var hr=["row-major","column-major"];function pr(){return hr.slice()}function gr(){return{"row-major":1,"column-major":2}}p(pr,"enum",gr);var mr=["throw","clamp","wrap"];function dr(){return mr.slice()}function yr(){return{throw:1,clamp:2,wrap:3}}p(dr,"enum",yr);var vr={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},br={"row-major":1,"column-major":2},wr={throw:1,clamp:2,wrap:3};var Er=new st(8),_r=new Mt(Er.buffer);function Tr(e,t,r,n){var i,o,a;if(0===e){for(a=0;a<Er.length;a++)t[n]=0,n+=r;return t}for(o=(4294967295&e)>>>0,i=N(e/4294967296),dt?(_r.setUint32(0,o,dt),_r.setUint32(4,i,dt)):(_r.setUint32(0,i,dt),_r.setUint32(4,o,dt)),a=0;a<Er.length;a++)t[n]=Er[a],n+=r;return t}p((function(e){var t,r,n,i;return t=new st(8),0===e||(i=(4294967295&e)>>>0,n=N(e/4294967296),r=new Mt(t.buffer),dt?(r.setUint32(0,i,dt),r.setUint32(4,n,dt)):(r.setUint32(0,n,dt),r.setUint32(4,i,dt))),t}),"assign",Tr);var Or={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Ar={"row-major":1,"column-major":2},jr={throw:1,clamp:2,wrap:3};function Rr(e,t,r,n,i,o){var a,u,s,f,l;if(!(this instanceof Rr))return new Rr(e,t,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=t.BYTES_PER_ELEMENT?t.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=function(e){return X[e]||null}(e),this._buffer=t,this._dtype=e,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=Boolean(t.get&&t.set),this._iterationOrder=function(e){var t,r;for(t=0,r=0;r<e.length;r++)e[r]<0&&(t+=1);return 0===t?1:t===e.length?-1:0}(n),a=function(e,t,r,n,i){var o;return 0!==e&&0!==i&&e===(o=ee(t,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=function(e){var t,r,n,i,o,a;if(0===(r=e.length))return 0;for(t=!0,n=!0,i=Z(e[0]),a=1;a<r;a++){if(o=Z(e[a]),t&&o<i?t=!1:n&&o>i&&(n=!1),!n&&!t)return 0;i=o}return n&&t?3:n?1:2}(n),this._flags={ROW_MAJOR_CONTIGUOUS:Q(s,a),COLUMN_MAJOR_CONTIGUOUS:K(s,a),READONLY:!1},this.__meta_dataview__=null,this}function xr(e){return e instanceof Rr||null!==e&&"object"==typeof e&&"object"==typeof e.data&&"object"==typeof e.shape&&"object"==typeof e.strides&&"number"==typeof e.offset&&"string"==typeof e.order&&"number"==typeof e.ndims&&"string"==typeof e.dtype&&"number"==typeof e.length&&"object"==typeof e.flags&&"function"==typeof e.get&&"function"==typeof e.set}function Nr(e){return xr(e)&&1===e.ndims&&1===e.shape.length&&1===e.strides.length}p(Rr,"name","ndarray"),J(Rr.prototype,"byteLength",(function(){return this._byteLength})),J(Rr.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),J(Rr.prototype,"data",(function(){return this._buffer})),J(Rr.prototype,"dtype",(function(){return this._dtype})),J(Rr.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(e=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:e.COLUMN_MAJOR_CONTIGUOUS,READONLY:e.READONLY};var e})),J(Rr.prototype,"length",(function(){return this._length})),J(Rr.prototype,"ndims",(function(){return this._ndims})),J(Rr.prototype,"offset",(function(){return this._offset})),J(Rr.prototype,"order",(function(){return this._order})),J(Rr.prototype,"shape",(function(){return this._shape.slice()})),J(Rr.prototype,"strides",(function(){return this._strides.slice()})),p(Rr.prototype,"get",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.get(e):this._buffer[e]})),p(Rr.prototype,"iget",(function(e){var t,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+e):this._buffer[this._offset+e];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-e):this._buffer[this._offset-e]}if(r=this._shape,t=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)e-=o=e%r[a],e/=r[a],i+=o*t[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),p(Rr.prototype,"set",(function(){var e,t;for(e=this._offset,t=0;t<arguments.length-1;t++)e+=this._strides[t]*arguments[t];return this._accessors?this._buffer.set(arguments[t],e):this._buffer[e]=arguments[t],this})),p(Rr.prototype,"iset",(function(e,t){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(e,this._offset):this._buffer[this._offset]=e,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset+e):this._buffer[this._offset+e]=t,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(t,this._offset-e):this._buffer[this._offset-e]=t,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this}for(u=i-1;u>=0;u--)e-=a=e%n[u],e/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(t,o):this._buffer[o]=t,this})),p(Rr.prototype,"toString",(function(){var e,t,r,n,i,o;if(t=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",e="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)e+=te(i=this.iget(o))+", "+re(i),o<this._length-1&&(e+=", ");else for(o=0;o<this._length;o++)e+=this.iget(o),o<this._length-1&&(e+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)e+=te(i=this.iget(o))+", "+re(i),o<2&&(e+=", ");else for(o=0;o<3;o++)e+=this.iget(o),o<2&&(e+=", ");if(e+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)e+=te(i=this.iget(this._length-1-o))+", "+re(i),o>0&&(e+=", ");else for(o=2;o>=0;o--)e+=this.iget(this._length-1-o),o>0&&(e+=", ")}if(r+=rt(nt[this.dtype],"{{data}}",e),r+=", ",r+=0===t?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===t)r+="0";else for(o=0;o<t;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<t-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),p(Rr.prototype,"toJSON",(function(){var e,t,r,n;for(t=this._length,(e={}).type="ndarray",e.dtype=this.dtype,e.flags={READONLY:this._flags.READONLY},e.order=this._order,e.shape=this._shape.slice(),e.strides=this._strides.slice(),n=0;n<t;n++)e.strides[n]<0&&(e.strides[n]*=-1);if(e.data=[],"complex64"===e.dtype||"complex128"===e.dtype)for(n=0;n<t;n++)r=this.iget(n),e.data.push(te(r),re(r));else for(n=0;n<t;n++)e.data.push(this.iget(n));return e})),p(Rr.prototype,"__array_meta_dataview__","function"==typeof H.BigInt&&"function"==typeof BigInt&&"bigint"==typeof H.BigInt("1")&&"bigint"==typeof BigInt("1")?function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(c=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Mt(new Rt(r)),i=this._shape,o=this._strides,n=this._dtype,e=this._bytesPerElement,f=0,u.setInt8(f,dt?1:0),f+=1,u.setInt16(f,vr[n],dt),f+=2,u.setBigInt64(f,St(c),dt),l=8*c,f+=8,p=0;p<c;p++)u.setBigInt64(f,St(i[p]),dt),u.setBigInt64(f+l,St(o[p]*e),dt),f+=8;for(f+=l,u.setBigInt64(f,St(this._offset*e),dt),f+=8,u.setInt8(f,br[this._order]),f+=1,u.setInt8(f,wr[s]),f+=1,u.setBigInt64(f,St(h),dt),f+=8,p=0;p<h;p++)u.setInt8(f,wr[a[p]]),f+=1;return t=0,t|=this._flags.READONLY?4:0,u.setInt32(f,t,dt),this.__meta_dataview__=u,u}:function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(h=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Mt(new Rt(n)),t=new st(s.buffer),o=this._shape,a=this._strides,i=this._dtype,e=this._bytesPerElement,l=0,s.setInt8(l,dt?1:0),l+=1,s.setInt16(l,Or[i],dt),Tr(h,t,1,l+=2),c=8*h,l+=8,g=0;g<h;g++)Tr(o[g],t,1,l),Tr(a[g]*e,t,1,l+c),l+=8;for(l+=c,Tr(this._offset*e,t,1,l),l+=8,s.setInt8(l,Ar[this._order]),l+=1,s.setInt8(l,jr[f]),Tr(p,t,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,jr[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,dt),this.__meta_dataview__=s,s});function Lr(e,t,r,n,i,o,a){var u,s,f,l,c;if(u=0,e<=0)return u;if(s=n,f=a,1===r&&1===o){if((l=e%5)>0)for(c=0;c<l;c++)u+=t[s]*i[f],s+=1,f+=1;if(e<5)return u;for(c=l;c<e;c+=5)u+=t[s]*i[f]+t[s+1]*i[f+1]+t[s+2]*i[f+2]+t[s+3]*i[f+3]+t[s+4]*i[f+4],s+=5,f+=5;return u}for(c=0;c<e;c++)u+=t[s]*i[f],s+=r,f+=o;return u}p((function(e,t,r,n,i){var o,a,u,s,f;if(o=0,e<=0)return o;if(1===r&&1===i){if((s=e%5)>0)for(f=0;f<s;f++)o+=t[f]*n[f];if(e<5)return o;for(f=s;f<e;f+=5)o+=t[f]*n[f]+t[f+1]*n[f+1]+t[f+2]*n[f+2]+t[f+3]*n[f+3]+t[f+4]*n[f+4];return o}for(a=r<0?(1-e)*r:0,u=i<0?(1-e)*i:0,f=0;f<e;f++)o+=t[a]*n[u],a+=r,u+=i;return o}),"ndarray",Lr);function Vr(e,t,r,n,i,o,a,u){var s,f,l,c;if(e<=0||0===t)return o;if(s=i,f=u,1===n&&1===a){if((l=e%4)>0)for(c=0;c<l;c++)o[f]+=t*r[s],s+=n,f+=a;if(e<4)return o;for(c=l;c<e;c+=4)o[f]+=t*r[s],o[f+1]+=t*r[s+1],o[f+2]+=t*r[s+2],o[f+3]+=t*r[s+3],s+=4,f+=4;return o}for(c=0;c<e;c++)o[f]+=t*r[s],s+=n,f+=a;return o}p((function(e,t,r,n,i,o){var a,u,s,f;if(e<=0||0===t)return i;if(1===n&&1===o){if((s=e%4)>0)for(f=0;f<s;f++)i[f]+=t*r[f];if(e<4)return i;for(f=s;f<e;f+=4)i[f]+=t*r[f],i[f+1]+=t*r[f+1],i[f+2]+=t*r[f+2],i[f+3]+=t*r[f+3];return i}for(a=n<0?(1-e)*n:0,u=o<0?(1-e)*o:0,f=0;f<e;f++)i[u]+=t*r[a],a+=n,u+=o;return i}),"ndarray",Vr);var Mr,Sr=Object.getPrototypeOf;Mr=Ke(Object.getPrototypeOf)?Sr:function(e){var t=function(e){return e.__proto__}(e);return t||null===t?t:"[object Function]"===E(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null};var Ir=Mr;function kr(e){return null==e?null:(e=Object(e),Ir(e))}function Br(e){if("object"!=typeof e||null===e)return!1;if(e instanceof Error)return!0;for(;e;){if("[object Error]"===E(e))return!0;e=kr(e)}return!1}function Pr(e){try{return function(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(e)}catch(e){return Br(e)?e:"object"==typeof e?new Error(JSON.stringify(e)):new Error(e.toString())}}function Fr(e,t,r,n,i){var o,a,u,s;if(e<=0)return n;if(1===r&&1===i){if((u=e%8)>0)for(s=0;s<u;s++)n[s]=t[s];if(e<8)return n;for(s=u;s<e;s+=8)n[s]=t[s],n[s+1]=t[s+1],n[s+2]=t[s+2],n[s+3]=t[s+3],n[s+4]=t[s+4],n[s+5]=t[s+5],n[s+6]=t[s+6],n[s+7]=t[s+7];return n}for(o=r<0?(1-e)*r:0,a=i<0?(1-e)*i:0,s=0;s<e;s++)n[a]=t[o],o+=r,a+=i;return n}p(Fr,"ndarray",(function(e,t,r,n,i,o,a){var u,s,f,l;if(e<=0)return i;if(u=n,s=a,1===r&&1===o){if((f=e%8)>0)for(l=0;l<f;l++)i[s]=t[u],u+=r,s+=o;if(e<8)return i;for(l=f;l<e;l+=8)i[s]=t[u],i[s+1]=t[u+1],i[s+2]=t[u+2],i[s+3]=t[u+3],i[s+4]=t[u+4],i[s+5]=t[u+5],i[s+6]=t[u+6],i[s+7]=t[u+7],u+=8,s+=8;return i}for(l=0;l<e;l++)i[s]=t[u],u+=r,s+=o;return i}));var Ur,Cr=Pr((0,e.join)(__dirname,"./native.js")),Yr=Ur=Br(Cr)?Fr:Cr;const{ndarray:zr}=Ur;function qr(e,t,r,n){var i,o;if(e<=0||n<=0||1===t)return r;if(1===n){if((o=e%5)>0)for(i=0;i<o;i++)r[i]*=t;if(e<5)return r;for(i=o;i<e;i+=5)r[i]*=t,r[i+1]*=t,r[i+2]*=t,r[i+3]*=t,r[i+4]*=t;return r}for(e*=n,i=0;i<e;i+=n)r[i]*=t;return r}p(qr,"ndarray",(function(e,t,r,n,i){var o,a,u;if(e<=0||1===t)return r;if(o=i,1===n){if((a=e%5)>0)for(u=0;u<a;u++)r[o]*=t,o+=n;if(e<5)return r;for(u=a;u<e;u+=5)r[o]*=t,r[o+1]*=t,r[o+2]*=t,r[o+3]*=t,r[o+4]*=t,o+=5;return r}for(u=0;u<e;u++)r[o]*=t,o+=n;return r}));var Gr=Pr((0,e.join)(__dirname,"./native.js")),Wr=Br(Gr)?qr:Gr;function Dr(e){return 0===e&&1/e===R}function $r(e,t){var r,n,i,o;if(2===(r=arguments.length))return zt(e)||zt(t)?NaN:e===R||t===R?R:e===t&&0===e?Dr(e)?e:t:e>t?e:t;for(n=x,o=0;o<r;o++){if(zt(i=arguments[o])||i===R)return i;(i>n||i===n&&0===i&&Dr(i))&&(n=i)}return n}var Hr=Math.ceil;function Jr(e){return e<0?Hr(e):N(e)}var Xr=1023;function Zr(e){return e===R||e===x}var Kr=2147483647,Qr="function"==typeof Uint32Array;function en(e){return Qr&&e instanceof Uint32Array||"[object Uint32Array]"===E(e)}var tn="function"==typeof Uint32Array?Uint32Array:null;var rn,nn="function"==typeof Uint32Array?Uint32Array:void 0;rn=function(){var e,t;if("function"!=typeof tn)return!1;try{e=en(t=new tn(t=[1,3.14,-3.14,4294967296,4294967297]))&&1===t[0]&&3===t[1]&&4294967293===t[2]&&0===t[3]&&1===t[4]}catch(t){e=!1}return e}()?nn:function(){throw new Error("not implemented")};var on,an,un=rn;!0===dt?(on=1,an=0):(on=0,an=1);var sn={HIGH:on,LOW:an},fn=new Tt(1),ln=new un(fn.buffer),cn=sn.HIGH,hn=sn.LOW;function pn(e,t,r,n){return fn[0]=e,t[n]=ln[cn],t[n+r]=ln[hn],t}function gn(e){return pn(e,[0,0],1,0)}p(gn,"assign",pn);var mn,dn,yn=!0===dt?1:0,vn=new Tt(1),bn=new un(vn.buffer);function wn(e){return vn[0]=e,bn[yn]}!0===dt?(mn=1,dn=0):(mn=0,dn=1);var En={HIGH:mn,LOW:dn},_n=new Tt(1),Tn=new un(_n.buffer),On=En.HIGH,An=En.LOW;function jn(e,t){return Tn[On]=e,Tn[An]=t,_n[0]}var Rn=[0,0];function xn(e,t){var r,n;return gn.assign(e,Rn,1,0),r=Rn[0],r&=Kr,n=wn(t),jn(r|=n&=2147483648,Rn[1])}function Nn(e,t,r,n){return zt(e)||Zr(e)?(t[n]=e,t[n+r]=0,t):0!==e&&Z(e)<22250738585072014e-324?(t[n]=4503599627370496*e,t[n+r]=-52,t):(t[n]=e,t[n+r]=0,t)}p((function(e){return Nn(e,[0,0],1,0)}),"assign",Nn);var Ln=[0,0],Vn=[0,0];function Mn(e,t){var r,n;return 0===t||0===e||zt(e)||Zr(e)?e:(Nn(e,Ln,1,0),t+=Ln[1],t+=function(e){var t=wn(e);return(t=(2146435072&t)>>>20)-Xr|0}(e=Ln[0]),t<-1074?xn(0,e):t>1023?e<0?x:R:(t<=-1023?(t+=52,n=2220446049250313e-31):n=1,gn.assign(e,Vn,1,0),r=Vn[0],r&=2148532223,n*jn(r|=t+Xr<<20,Vn[1])))}var Sn=1.4426950408889634,In=1/(1<<28);function kn(e){var t;return zt(e)||e===R?e:e===x?0:e>709.782712893384?R:e<-745.1332191019411?0:e>-3.725290298461914e-9&&e<In?1+e:function(e,t,r){var n,i,o,a;return Mn(1-(t-(n=e-t)*(o=n-(i=n*n)*(0===(a=i)?.16666666666666602:.16666666666666602+a*(a*(6613756321437934e-20+a*(4.1381367970572385e-8*a-16533902205465252e-22))-.0027777777777015593)))/(2-o)-e),r)}(e-.6931471803691238*(t=Jr(e<0?Sn*e-.5:Sn*e+.5)),1.9082149292705877e-10*t,t)}function Bn(e){return L(e/2)}function Pn(e){return Bn(e>0?e-1:e+1)}var Fn=Math.sqrt,Un=!0===dt?0:1,Cn=new Tt(1),Yn=new un(Cn.buffer);function zn(e,t){return Cn[0]=e,Yn[Un]=t>>>0,Cn[0]}function qn(e){return 0|e}var Gn=!0===dt?1:0,Wn=new Tt(1),Dn=new un(Wn.buffer);function $n(e,t){return Wn[0]=e,Dn[Gn]=t>>>0,Wn[0]}var Hn=1048576,Jn=[1,1.5],Xn=[0,.5849624872207642],Zn=[0,1.350039202129749e-8];var Kn=1048575;var Qn=1048576;var ei=1083179008,ti=1e300,ri=1e-300,ni=[0,0],ii=[0,0];function oi(e,t){var r,n,i,o,a,u,s,f,l,c,h,p,g,m;if(zt(e)||zt(t))return NaN;if(gn.assign(t,ni,1,0),a=ni[0],0===ni[1]){if(0===t)return 1;if(1===t)return e;if(-1===t)return 1/e;if(.5===t)return Fn(e);if(-.5===t)return 1/Fn(e);if(2===t)return e*e;if(3===t)return e*e*e;if(4===t)return(e*=e)*e;if(Zr(t))return function(e,t){return-1===e?(e-e)/(e-e):1===e?1:Z(e)<1==(t===R)?0:R}(e,t)}if(gn.assign(e,ni,1,0),o=ni[0],0===ni[1]){if(0===o)return function(e,t){return t===x?R:t===R?0:t>0?Pn(t)?e:0:Pn(t)?xn(R,e):R}(e,t);if(1===e)return 1;if(-1===e&&Pn(t))return-1;if(Zr(e))return e===x?oi(-0,-t):t<0?0:R}if(e<0&&!1===L(t))return(e-e)/(e-e);if(i=Z(e),r=o&Kr|0,n=a&Kr|0,s=a>>>31|0,u=(u=o>>>31|0)&&Pn(t)?-1:1,n>1105199104){if(n>1139802112)return function(e,t){return(wn(e)&Kr)<=1072693247?t<0?1/0:0:t>0?1/0:0}(e,t);if(r<1072693247)return 1===s?u*ti*ti:u*ri*ri;if(r>1072693248)return 0===s?u*ti*ti:u*ri*ri;h=function(e,t){var r,n,i,o,a,u;return r=(a=1.9259629911266175e-8*(i=t-1)-i*i*(0===(u=i)?.5:.5+u*(.25*u-.3333333333333333))*1.4426950408889634)-((n=zn(n=(o=1.4426950216293335*i)+a,0))-o),e[0]=n,e[1]=r,e}(ii,i)}else h=function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v,b,w,E,_,T;return w=0,r<Hn&&(w-=53,r=wn(t*=9007199254740992)),w+=(r>>20)-Xr|0,r=1072693248|(E=1048575&r|0),E<=235662?_=0:E<767610?_=1:(_=0,w+=1,r-=Hn),a=zn(i=(v=(t=$n(t,r))-(f=Jn[_]))*(b=1/(t+f)),0),n=524288+(r>>1|536870912),s=$n(0,n+=_<<18),y=(o=i*i)*o*(0===(T=o)?.5999999999999946:.5999999999999946+T*(.4285714285785502+T*(.33333332981837743+T*(.272728123808534+T*(.23066074577556175+.20697501780033842*T))))),s=zn(s=3+(o=a*a)+(y+=(u=b*(v-a*s-a*(t-(s-f))))*(a+i)),0),m=(p=-7.028461650952758e-9*(c=zn(c=(v=a*s)+(b=u*s+(y-(s-3-o))*i),0))+.9617966939259756*(b-(c-v))+Zn[_])-((g=zn(g=(h=.9617967009544373*c)+p+(l=Xn[_])+(d=w),0))-d-l-h),e[0]=g,e[1]=m,e}(ii,i,r);if(p=(c=(t-(f=zn(t,0)))*h[0]+t*h[1])+(l=f*h[0]),gn.assign(p,ni,1,0),g=qn(ni[0]),m=qn(ni[1]),g>=ei){if(0!=(g-ei|m))return u*ti*ti;if(c+8008566259537294e-32>p-l)return u*ti*ti}else if((g&Kr)>=1083231232){if(0!=(g-3230714880|m))return u*ri*ri;if(c<=p-l)return u*ri*ri}return p=function(e,t,r){var n,i,o,a,u,s,f,l,c,h;return c=((l=e&Kr|0)>>20)-Xr|0,f=0,l>1071644672&&(i=$n(0,((f=e+(Qn>>c+1)>>>0)&~(Kn>>(c=((f&Kr)>>20)-Xr|0)))>>>0),f=(f&Kn|Qn)>>20-c>>>0,e<0&&(f=-f),t-=i),e=qn(e=wn(s=1-((s=(o=.6931471824645996*(i=zn(i=r+t,0)))+(a=.6931471805599453*(r-(i-t))+-1.904654299957768e-9*i))*(n=s-(i=s*s)*(0===(h=i)?.16666666666666602:.16666666666666602+h*(h*(6613756321437934e-20+h*(4.1381367970572385e-8*h-16533902205465252e-22))-.0027777777777015593)))/(n-2)-((u=a-(s-o))+s*u)-s))),(e+=f<<20>>>0)>>20<=0?Mn(s,f):$n(s,e)}(g,l,c),u*p}function ai(e){return M(e)&&e>=0}function ui(e){return S(e)&&e.valueOf()>=0}function si(e){return ai(e)||ui(e)}p(si,"isPrimitive",ai),p(si,"isObject",ui);var fi=4294967295;function li(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length&&L(e.length)&&e.length>=0&&e.length<=fi}function ci(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var r,n;if(!li(t))return!1;if(0===(r=t.length))return!1;for(n=0;n<r;n++)if(!1===e(t[n]))return!1;return!0}}var hi=ci(si.isPrimitive),pi=ci(si.isObject),gi=ci(si);p(gi,"primitives",hi),p(gi,"objects",pi);var mi=ci(I.isPrimitive),di=ci(I.isObject),yi=ci(I);p(yi,"primitives",mi),p(yi,"objects",di);var vi=pr(),bi=vi.length;function wi(e){var t;for(t=0;t<bi;t++)if(e===vi[t])return!0;return!1}var Ei=kt(),_i=Ei.length;function Ti(e){var t;for(t=0;t<_i;t++)if(e===Ei[t])return!0;return!1}function Oi(e,t,r,n){var i=ee(t,r,n);return i[0]>=0&&i[1]<e}function Ai(e){var t,r,n;if(0===(t=e.length))return 0;for(r=1,n=0;n<t;n++)r*=e[n];return r}function ji(e){var t=typeof e;return null===e||"object"!==t&&"function"!==t?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+e+"`."):null}var Ri=Object.create;function xi(){}var Ni="function"==typeof Ri?Ri:function(e){return xi.prototype=e,new xi};var Li="throw",Vi=!1;function Mi(e,t,r){if("clamp"===r)return function(e,t){return e<0?0:e>t?t:e}(e,t);if("wrap"===r)return function(e,t){var r=t+1;return e<0?((e+=r)<0&&0!=(e%=r)&&(e+=r),e):e>t?((e-=r)>t&&(e%=r),e):e}(e,t);if(e<0||e>t)throw new RangeError("invalid argument. Index must be on the interval: [0,"+t+"]. Value: `"+e+"`.");return e}var Si=Rr.prototype.iget;var Ii=Rr.prototype.iset;function ki(e,t){var r,n;for(r=[],n=0;n<t;n++)r.push(e[n]);return r}function Bi(e){return"object"==typeof e&&null!==e&&!De(e)}var Pi=Object.prototype;function Fi(e){var t;return!!Bi(e)&&(!(t=kr(e))||!b(e,"constructor")&&b(t,"constructor")&&Ke(t.constructor)&&"[object Function]"===E(t.constructor)&&b(t,"isPrototypeOf")&&Ke(t.isPrototypeOf)&&(t===Pi||function(e){var t;for(t in e)if(!b(e,t))return!1;return!0}(e)))}var Ui=dr(),Ci=Ui.length;function Yi(e){var t;for(t=0;t<Ci;t++)if(e===Ui[t])return!0;return!1}function zi(e,t){var r;if(!Fi(t))return new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.");if(b(t,"mode")&&(e.mode=t.mode,!Yi(e.mode)))return new TypeError("invalid option. `mode` option must be a recognized mode. Option: `"+e.mode+"`.");if(b(t,"submode")){if(e.submode=t.submode,!De(e.submode))return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+e.submode+"`.");if(0===e.submode.length)return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+e.submode.join(",")+"`.");for(r=0;r<e.submode.length;r++)if(!Yi(e.submode[r]))return new TypeError("invalid option. Each `submode` must be a recognized modes. Option: `"+e.submode[r]+"`.");e.submode=e.submode.slice()}return b(t,"readonly")&&(e.readonly=t.readonly,!F(e.readonly))?new TypeError("invalid option. `readonly` option must be a boolean. Option: `"+e.readonly+"`."):null}var qi=32767;function Gi(e,t,r,n,i,o,a){var u,s,f,l,c;if(!(this instanceof Gi))return arguments.length<7?new Gi(e,t,r,n,i,o):new Gi(e,t,r,n,i,o,a);if(!Ti(e))throw new TypeError("invalid argument. `dtype` argument must be a supported ndarray data type. Value: `"+e+"`.");if(!rr(t))throw new TypeError("invalid argument. `buffer` argument must be an array-like object, typed-array-like, or a Buffer. Value: `"+t+"`.");if(t.get&&t.set&&(!Ke(t.get)||!Ke(t.set)))throw new TypeError("invalid argument. `buffer` argument `get` and `set` properties must be functions. Value: `"+t+"`.");if(!hi(r)&&(!rr(r)||r.length>0))throw new TypeError("invalid argument. `shape` argument must be an array-like object containing nonnegative integers. Value: `"+r+"`.");if((u=r.length)>qi)throw new RangeError("invalid argument. Number of dimensions must not exceed 32767 due to stack limits. Value: `"+u+"`.");if(!mi(n))throw new TypeError("invalid argument. `strides` argument must be an array-like object containing integers. Value: `"+n+"`.");if(u>0){if(n.length!==u)throw new RangeError("invalid argument. `strides` argument length must match the number of dimensions. Expected number of dimensions: "+u+". Strides length: "+n.length+".")}else{if(1!==n.length)throw new RangeError("invalid argument. `strides` length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError("invalid argument. `strides` argument must contain a single element equal to `0`. Value: `"+n[0]+"`.")}if(!ai(i))throw new TypeError("invalid argument. `offset` argument must be a nonnegative integer. Value: `"+i+"`.");if(!wi(o))throw new TypeError("invalid argument. `order` argument must be a supported order. Value: `"+o+"`.");if(u>0&&!Oi(t.length,r,n,i)&&Ai(r)>0)throw new Error("invalid arguments. The input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((s={}).mode=Li,s.readonly=Vi,arguments.length>6&&(f=zi(s,a)))throw f;return this._mode=s.mode,void 0===s.submode&&(s.submode=[this._mode]),this._submode=s.submode,l=ki(r,u),c=ki(n,u||1),Rr.call(this,e,t,l,c,i,o),this._flags.READONLY=s.readonly,this}function Wi(e,t){return"column-major"===t?function(e){var t,r,n;for(t=[],r=1,n=0;n<e.length;n++)t.push(r),r*=e[n];return t}(e):function(e){var t,r,n,i;for(t=e.length,r=[],i=0;i<t;i++)r.push(0);for(n=1,i=t-1;i>=0;i--)r[i]=n,n*=e[i];return r}(e)}function Di(e,t,r,n,i,o){var a,u,s,f,l;for(a=e.length,u=1,l=0;l<a;l++)u*=e[l];if("clamp"===o)i<0?i=0:i>=u&&(i=u-1);else if("wrap"===o)i<0?(i+=u)<0&&0!==(i%=u)&&(i+=u):i>=u&&(i-=u)>=u&&(i%=u);else if(i<0||i>=u)throw new RangeError("invalid argument. Linear index must not exceed array dimensions. Number of array elements: "+u+". Value: `"+i+"`.");if(s=r,"column-major"===n){for(l=0;l<a;l++)i-=f=i%e[l],i/=e[l],s+=f*t[l];return s}for(l=a-1;l>=0;l--)i-=f=i%e[l],i/=e[l],s+=f*t[l];return s}!function(e,t){var r=ji(e);if(r)throw r;if(r=ji(t))throw r;if(void 0===t.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+t.prototype+"`.");e.prototype=Ni(t.prototype),c(e.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:e})}(Gi,Rr),p(Gi,"name","ndarray"),p(Gi.prototype,"get",(function(){var e,t,r,n;if(arguments.length!==this._ndims)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(e=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!M(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");t=Mi(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.get(e):this._buffer[e]})),p(Gi.prototype,"iget",(function(e){if(this._ndims>0){if(!M(e))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+e+"`.");return e=Mi(e,this._length-1,this._mode),Si.call(this,e)}return Si.call(this)})),p(Gi.prototype,"set",(function(){var e,t,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(e=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!M(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");t=Mi(arguments[n],this._shape[n]-1,this._submode[n%r]),e+=this._strides[n]*t}return this._accessors?this._buffer.set(arguments[n],e):this._buffer[e]=arguments[n],this})),p(Gi.prototype,"iset",(function(e,t){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!M(e))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+e+"`.");e=Mi(e,this._length-1,this._mode),Ii.call(this,e,t)}else Ii.call(this,e);return this})),p(Wi,"assign",(function(e,t,r){return"column-major"===t?function(e,t){var r,n;for(r=1,n=0;n<e.length;n++)t[n]=r,r*=e[n];return t}(e,r):function(e,t){var r,n;for(r=1,n=e.length-1;n>=0;n--)t[n]=r,r*=e[n];return t}(e,r)}));var $i={basic:"_basicLearningRate",constant:"_constantLearningRate",invscaling:"_inverseScalingLearningRate",pegasos:"_pegasosLearningRate"},Hi={hinge:"_hingeLoss",log:"_logLoss",modifiedHuber:"_modifiedHuberLoss",perceptron:"_perceptronLoss",squaredHinge:"_squaredHingeLoss"};function Ji(e,t){var r;return this._N=e,this._opts=t,this._scaleFactor=1,this._t=0,this._learningRateMethod=$i[t.learningRate[0]],this._lossMethod=Hi[t.loss],r=e,t.intercept&&(r+=1),this._weights=new Tt(r),this._coefficients=new Gi("float64",new Tt(r),[r],[1],0,"row-major"),this}p(Ji.prototype,"_add",(function(e,t){var r=t/this._scaleFactor,n=this._weights;return Vr(e.shape[0],r,e.data,e.strides[0],e.offset,n,1,0),this._opts.intercept&&(n[this._N]+=r),this})),p(Ji.prototype,"_basicLearningRate",(function(){return 10/(10+this._t)})),p(Ji.prototype,"_constantLearningRate",(function(){return this._opts.learningRate[1]})),p(Ji.prototype,"_dot",(function(e,t,r){var n=Lr(this._N,this._weights,1,0,e,t,r);return this._opts.intercept&&(n+=this._weights[this._N]),n*=this._scaleFactor})),p(Ji.prototype,"_hingeLoss",(function(e,t){var r;return r=this[this._learningRateMethod](),this._regularize(r),t*this._dot(e.data,e.strides[0],e.offset)<1&&this._add(e,t*r),this})),p(Ji.prototype,"_inverseScalingLearningRate",(function(){var e=this._opts.learningRate;return e[1]/oi(this._t,e[2])})),p(Ji.prototype,"_logLoss",(function(e,t){var r,n;return n=this[this._learningRateMethod](),this._regularize(n),r=t/(1+kn(t*this._dot(e.data,e.strides[0],e.offset))),this._add(e,n*r),this})),p(Ji.prototype,"_modifiedHuberLoss",(function(e,t){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=t*this._dot(e.data,e.strides[0],e.offset))<-1?this._add(e,4*r*t):this._add(e,r*(t-n*t)),this})),p(Ji.prototype,"_pegasosLearningRate",(function(){return 1/(this._opts.lambda*this._t)})),p(Ji.prototype,"_perceptronLoss",(function(e,t){var r;return r=this[this._learningRateMethod](),this._regularize(r),t*this._dot(e.data,e.strides[0],e.offset)<=0&&this._add(e,t*r),this})),p(Ji.prototype,"_regularize",(function(e){var t=this._opts.lambda;return t<=0||this._scale($r(1-e*t,1e-7)),this})),p(Ji.prototype,"_scale",(function(e){var t;if(e<=0)throw new RangeError("invalid argument. Attempting to scale a weight vector by a nonpositive value. This is likely due to too large a value of `eta*lambda`. Value: `"+e+"`.");return(t=this._scaleFactor)<1e-11&&(Wr(this._N,t,this._weights,1),this._scaleFactor=1),this._scaleFactor*=e,this})),p(Ji.prototype,"_squaredHingeLoss",(function(e,t){var r,n;return r=this[this._learningRateMethod](),this._regularize(r),(n=t*this._dot(e.data,e.strides[0],e.offset))<1&&this._add(e,r*(t-n*t)),this})),J(Ji.prototype,"coefficients",(function(){var e=this._coefficients.data,t=this._weights;return Yr(t.length,t,1,e,1),Wr(this._N,this._scaleFactor,e,1),this._coefficients})),J(Ji.prototype,"nfeatures",(function(){return this._N})),p(Ji.prototype,"predict",(function(e,t){var r,n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v;for(n=e.data,o=e.shape,l=e.strides,h=e.offset,u=e.order,r=o.length-1,a=[],y=0;y<r;y++)a.push(o[y]);for(0===r?(p=1,i=new Tt(1),c=[0]):(p=Ai(a),i=new Tt(p),c=Wi(a,u)),m=new Gi("int8",i,a,c,0,u),g=this._N,f=l[r],y=0;y<p;y++)s=Di(o,l,h,u,y*g,"throw"),d=this._dot(n,f,s),"label"===t?d=d>0?1:-1:"probability"===t&&(d=zt(v=d)?v:1/(1+kn(-v))),0===r?m.iset(d):m.iset(y,d);return m})),p(Ji.prototype,"update",(function(e,t){return this._t+=1,this[this._lossMethod](e,t)}));var Xi={basic:["basic"],constant:["constant",.02],invscaling:["invscaling",.02,.5],pegasos:["pegasos"]};function Zi(e){return g(e)&&e>=0}function Ki(e){return A(e)&&e.valueOf()>=0}function Qi(e){return Zi(e)||Ki(e)}function eo(e){return g(e)&&e>0}function to(e){return A(e)&&e.valueOf()>0}function ro(e){return eo(e)||to(e)}function no(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&L(e.length)&&e.length>=0&&e.length<=fi}function io(e,t,r){var n,i,o;if(!rr(e)&&!ne(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!M(r))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+r+"`.");(i=r)<0&&(i=0)}else i=0;if(ne(e)){if(!ne(t))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+t+"`.");return-1!==e.indexOf(t,i)}if(n=e.length,qt(t)){for(o=i;o<n;o++)if(qt(e[o]))return!0;return!1}for(o=i;o<n;o++)if(e[o]===t)return!0;return!1}p(Qi,"isPrimitive",Zi),p(Qi,"isObject",Ki),p(ro,"isPrimitive",eo),p(ro,"isObject",to);var oo=["basic","constant","invscaling","pegasos"],ao=["hinge","log","modifiedHuber","perceptron","squaredHinge"];function uo(e,t){var r;if(!Fi(t))return new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(b(t,"intercept")&&(e.intercept=t.intercept,!F(e.intercept)))return new TypeError("invalid option. `intercept` option must be a boolean. Option: `"+e.intercept+"`.");if(b(t,"lambda")&&(e.lambda=t.lambda,!Zi(e.lambda)))return new TypeError("invalid option. `lambda` option must be a nonnegative number. Option: `"+e.lambda+"`.");if(b(t,"learningRate")){if(!no(t.learningRate))return new TypeError("invalid option. `learningRate` option must be an array-like object. Option: `"+t.learningRate+"`.");if(r=t.learningRate[0],e.learningRate[0]=r,!io(oo,r))return new TypeError("invalid option. First `learningRate` option must be one of the following values: '"+oo.join("', '")+"'. Option: `"+r+"`.");if(t.learningRate.length>1&&("constant"===r||"invscaling"===r)&&(e.learningRate[1]=t.learningRate[1],!eo(e.learningRate[1])))return new TypeError("invalid option. Second `learningRate` option must be a positive number. Option: `"+e.learningRate[1]+"`.");if(t.learningRate.length>2&&"invscaling"===r&&(e.learningRate[2]=t.learningRate[2],!g(e.learningRate[2])))return new TypeError("invalid option. Third `learningRate` option must be a number. Option: `"+e.learningRate[2]+"`.")}return b(t,"loss")&&(e.loss=t.loss,!io(ao,e.loss))?new TypeError("invalid option. `loss` option must be one of the following values: '"+ao.join("', '")+"'. Option: `"+e.loss+"`."):null}function so(e){return xr(e)&&2===e.ndims&&2===e.shape.length&&2===e.strides.length}function fo(e,t,r,n){c(e,t,{configurable:!1,enumerable:!1,get:r,set:n})}var lo="function"==typeof Int32Array;function co(e){return lo&&e instanceof Int32Array||"[object Int32Array]"===E(e)}function ho(e,t){return e[t]}function po(e,t){return e.get(t)}function go(e,t,r){e[t]=r}function mo(e,t,r){e.set(r,t)}function yo(e){var t=Boolean(e.get&&e.set);return{data:e,accessors:t,getter:t?po:ho,setter:t?mo:go}}function vo(e,t,r,n,i,o,a){var u,s,f,l,c,h,p;for(u=t.data,s=i.data,l=t.getter,f=i.setter,c=n,h=a,p=0;p<e;p++)f(s,h,l(u,c)),c+=r,h+=o;return t}function bo(e,t,r,n,i){var o,a,u,s,f,l;if(e<=0)return n;if(u=yo(t),s=yo(n),u.accessors||s.accessors)return vo(e,u,r,o=r<0?(1-e)*r:0,s,i,a=i<0?(1-e)*i:0),s.data;if(1===r&&1===i){if((f=e%8)>0)for(l=0;l<f;l++)n[l]=t[l];if(e<8)return n;for(l=f;l<e;l+=8)n[l]=t[l],n[l+1]=t[l+1],n[l+2]=t[l+2],n[l+3]=t[l+3],n[l+4]=t[l+4],n[l+5]=t[l+5],n[l+6]=t[l+6],n[l+7]=t[l+7];return n}for(o=r<0?(1-e)*r:0,a=i<0?(1-e)*i:0,l=0;l<e;l++)n[a]=t[o],o+=r,a+=i;return n}function wo(e,t,r,n,i,o,a){var u,s,f,l,c,h;if(e<=0)return i;if(f=yo(t),l=yo(i),f.accessors||l.accessors)return vo(e,f,r,n,l,o,a),l.data;if(u=n,s=a,1===r&&1===o){if((c=e%8)>0)for(h=0;h<c;h++)i[s]=t[u],u+=r,s+=o;if(e<8)return i;for(h=c;h<e;h+=8)i[s]=t[u],i[s+1]=t[u+1],i[s+2]=t[u+2],i[s+3]=t[u+3],i[s+4]=t[u+4],i[s+5]=t[u+5],i[s+6]=t[u+6],i[s+7]=t[u+7],u+=8,s+=8;return i}for(h=0;h<e;h++)i[s]=t[u],u+=r,s+=o;return i}p(bo,"ndarray",wo);var Eo=2147483647,_o="function"==typeof Int32Array?Int32Array:null;var To,Oo="function"==typeof Int32Array?Int32Array:void 0;To=function(){var e,t;if("function"!=typeof _o)return!1;try{e=co(t=new _o([1,3.14,-3.14,2147483648]))&&1===t[0]&&3===t[1]&&-3===t[2]&&-2147483648===t[3]}catch(t){e=!1}return e}()?Oo:function(){throw new Error("not implemented")};var Ao=To;function jo(){}var Ro="foo"===jo.name;var xo="function"==typeof Int8Array;var No="function"==typeof Int8Array?Int8Array:null;var Lo,Vo="function"==typeof Int8Array?Int8Array:void 0;Lo=function(){var e,t,r;if("function"!=typeof No)return!1;try{t=new No([1,3.14,-3.14,128]),r=t,e=(xo&&r instanceof Int8Array||"[object Int8Array]"===E(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-128===t[3]}catch(t){e=!1}return e}()?Vo:function(){throw new Error("not implemented")};var Mo=Lo,So="function"==typeof Uint8ClampedArray;var Io="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var ko,Bo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;ko=function(){var e,t,r;if("function"!=typeof Io)return!1;try{t=new Io([-1,0,1,3.14,4.99,255,256]),r=t,e=(So&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===E(r))&&0===t[0]&&0===t[1]&&1===t[2]&&3===t[3]&&5===t[4]&&255===t[5]&&255===t[6]}catch(t){e=!1}return e}()?Bo:function(){throw new Error("not implemented")};var Po=ko,Fo="function"==typeof Int16Array;var Uo="function"==typeof Int16Array?Int16Array:null;var Co,Yo="function"==typeof Int16Array?Int16Array:void 0;Co=function(){var e,t,r;if("function"!=typeof Uo)return!1;try{t=new Uo([1,3.14,-3.14,32768]),r=t,e=(Fo&&r instanceof Int16Array||"[object Int16Array]"===E(r))&&1===t[0]&&3===t[1]&&-3===t[2]&&-32768===t[3]}catch(t){e=!1}return e}()?Yo:function(){throw new Error("not implemented")};var zo=Co,qo="function"==typeof Float32Array;var Go="function"==typeof Float32Array?Float32Array:null;var Wo,Do="function"==typeof Float32Array?Float32Array:void 0;Wo=function(){var e,t,r;if("function"!=typeof Go)return!1;try{t=new Go([1,3.14,-3.14,5e40]),r=t,e=(qo&&r instanceof Float32Array||"[object Float32Array]"===E(r))&&1===t[0]&&3.140000104904175===t[1]&&-3.140000104904175===t[2]&&t[3]===R}catch(t){e=!1}return e}()?Do:function(){throw new Error("not implemented")};var $o=Wo,Ho=[Tt,$o,Ao,un,zo,gt,Mo,st,Po],Jo=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],Xo=Et()?kr(Tt):Zo;function Zo(){}function Ko(e){var t,r;if("object"!=typeof e||null===e)return!1;if(e instanceof Xo)return!0;for(r=0;r<Ho.length;r++)if(e instanceof Ho[r])return!0;for(;e;){for(t=Xe(e),r=0;r<Jo.length;r++)if(Jo[r]===t)return!0;e=kr(e)}return!1}function Qo(e,t){if(!(this instanceof Qo))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!g(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!g(t))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+t+"`.");return c(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),c(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}Xo="TypedArray"===function(e){if(!1===Ke(e))throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return Ro?e.name:We.exec(e.toString())[1]}(Xo)?Xo:Zo,p(Qo,"BYTES_PER_ELEMENT",8),p(Qo.prototype,"BYTES_PER_ELEMENT",8),p(Qo.prototype,"byteLength",16),p(Qo.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),p(Qo.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var ea="function"==typeof Math.fround?Math.fround:null,ta=new $o(1);var ra="function"==typeof ea?ea:function(e){return ta[0]=e,ta[0]};function na(e,t){if(!(this instanceof na))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!g(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!g(t))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+t+"`.");return c(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:ra(e)}),c(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:ra(t)}),this}function ia(e){return e instanceof Qo||e instanceof na||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im}function oa(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&b(Symbol,"iterator")&&"symbol"==typeof Symbol.iterator}p(na,"BYTES_PER_ELEMENT",4),p(na.prototype,"BYTES_PER_ELEMENT",4),p(na.prototype,"byteLength",8),p(na.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),p(na.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e}));var aa=oa()?Symbol.iterator:null;function ua(e){return e.re}function sa(e){return e.im}function fa(e,t){return new $o(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function la(e,t){return new Tt(e.buffer,e.byteOffset+e.BYTES_PER_ELEMENT*t,2*(e.length-t))}function ca(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(no(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!ia(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");t.push(ua(n),sa(n))}return t}function ha(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,no(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!ia(o))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+o+"`.");n.push(ua(o),sa(o))}return n}function pa(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!ia(n=t[i]))return null;e[o]=ua(n),e[o+1]=sa(n),o+=2}return e}var ga=2*$o.BYTES_PER_ELEMENT,ma=oa();function da(e){return e instanceof wa||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function ya(e){return e===wa||"Complex128Array"===e.name}function va(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===ga}function ba(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===2*ga}function wa(){var e,t,r,n;if(t=arguments.length,!(this instanceof wa))return 0===t?new wa:1===t?new wa(arguments[0]):2===t?new wa(arguments[0],arguments[1]):new wa(arguments[0],arguments[1],arguments[2]);if(0===t)r=new $o(0);else if(1===t)if(ai(arguments[0]))r=new $o(2*arguments[0]);else if(rr(arguments[0]))if((n=(r=arguments[0]).length)&&De(r)&&ia(r[0])){if(null===(r=pa(new $o(2*n),r))){if(!Bn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new $o(arguments[0])}}else{if(va(r))r=fa(r,0);else if(ba(r))r=la(r,0);else if(!Bn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new $o(r)}else if(vt(arguments[0])){if(!L((r=arguments[0]).byteLength/ga))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+ga+". Byte length: `"+r.byteLength+"`.");r=new $o(r)}else{if(!Bi(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(r=arguments[0],!1===ma)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+r+"`.");if(!Ke(r[aa]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+r+"`.");if(!Ke((r=r[aa]()).next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((r=ca(r))instanceof Error)throw r;r=new $o(r)}else{if(!vt(r=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+r+"`.");if(!ai(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!L(e/ga))throw new RangeError("invalid argument. Byte offset must be a multiple of "+ga+". Value: `"+e+"`.");if(2===t){if(!L((n=r.byteLength-e)/ga))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+ga+". View byte length: `"+n+"`.");r=new $o(r,e)}else{if(!ai(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*ga>r.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*ga+"`.");r=new $o(r,e,2*n)}}return p(this,"_buffer",r),p(this,"_length",r.length/2),this}function Ea(e){var t,r,n;for(t=[];!(r=e.next()).done;)if(no(n=r.value)&&n.length>=2)t.push(n[0],n[1]);else{if(!ia(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");t.push(te(n),re(n))}return t}function _a(e,t,r){var n,i,o,a;for(n=[],a=-1;!(i=e.next()).done;)if(a+=1,no(o=t.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!ia(o))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+o+"`.");n.push(te(o),re(o))}return n}function Ta(e,t){var r,n,i,o;for(r=t.length,o=0,i=0;i<r;i++){if(!ia(n=t[i]))return null;e[o]=te(n),e[o+1]=re(n),o+=2}return e}p(wa,"BYTES_PER_ELEMENT",ga),p(wa,"name","Complex64Array"),p(wa,"from",(function(e){var t,r,n,i,o,a,u,s,f,l,c;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ya(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Ke(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");r>2&&(t=arguments[2])}if(da(e)){if(u=e.length,n){for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(ia(f=n.call(t,e.get(l),l)))o[c]=ua(f),o[c+1]=sa(f);else{if(!(no(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");o[c]=f[0],o[c+1]=f[1]}c+=2}return i}return new this(e)}if(rr(e)){if(n){for(u=e.length,a=yo(e),l=0;l<u;l++)if(!ia(a.getter(e,l))){s=!0;break}if(s){if(!Bn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(o=(i=new this(u/2))._buffer,l=0;l<u;l++)o[l]=n.call(t,a.getter(e,l),l);return i}for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(ia(f=n.call(t,a.getter(e,l),l)))o[c]=ua(f),o[c+1]=sa(f);else{if(!(no(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");o[c]=f[0],o[c+1]=f[1]}c+=2}return i}return new this(e)}if(Bi(e)&&ma&&Ke(e[aa])){if(!Ke((o=e[aa]()).next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((a=n?ha(o,n,t):ca(o))instanceof Error)throw a;for(o=(i=new this(u=a.length/2))._buffer,l=0;l<u;l++)o[l]=a[l];return i}throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.")})),p(wa,"of",(function(){var e,t;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!ya(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),J(wa.prototype,"buffer",(function(){return this._buffer.buffer})),J(wa.prototype,"byteLength",(function(){return this._buffer.byteLength})),J(wa.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),p(wa.prototype,"BYTES_PER_ELEMENT",wa.BYTES_PER_ELEMENT),p(wa.prototype,"copyWithin",(function(e,t){if(!da(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),p(wa.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!da(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,p(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new na(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),p(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),aa&&p(r,aa,(function(){return t.entries()})),r})),p(wa.prototype,"get",(function(e){var t;if(!da(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ai(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");if(!(e>=this._length))return new na((t=this._buffer)[e*=2],t[e+1])})),J(wa.prototype,"length",(function(){return this._length})),p(wa.prototype,"set",(function(e){var t,r,n,i,o,a,u,s,f;if(!da(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!ai(r=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.")}else r=0;if(ia(e)){if(r>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+r+"`.");return n[r*=2]=ua(e),void(n[r+1]=sa(e))}if(da(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,f=n.byteOffset+r*ga,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new $o(t.length),s=0;s<t.length;s++)i[s]=t[s];t=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2}else{if(!rr(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(a=e.length,s=0;s<a;s++)if(!ia(e[s])){o=!0;break}if(o){if(!Bn(a))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+a+"`.");if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,f=n.byteOffset+r*ga,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new $o(a),s=0;s<a;s++)i[s]=t[s];t=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=e[s],n[r]=ua(u),n[r+1]=sa(u),r+=2}}));var Oa=2*Tt.BYTES_PER_ELEMENT,Aa=oa();function ja(e){return e instanceof La||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Ra(e){return e===La||"Complex64Array"===e.name}function xa(e){return"object"==typeof e&&null!==e&&"Complex64Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===Oa/2}function Na(e){return"object"==typeof e&&null!==e&&"Complex128Array"===e.constructor.name&&e.BYTES_PER_ELEMENT===Oa}function La(){var e,t,r,n;if(t=arguments.length,!(this instanceof La))return 0===t?new La:1===t?new La(arguments[0]):2===t?new La(arguments[0],arguments[1]):new La(arguments[0],arguments[1],arguments[2]);if(0===t)r=new Tt(0);else if(1===t)if(ai(arguments[0]))r=new Tt(2*arguments[0]);else if(rr(arguments[0]))if((n=(r=arguments[0]).length)&&De(r)&&ia(r[0])){if(null===(r=Ta(new Tt(2*n),r))){if(!Bn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new Tt(arguments[0])}}else{if(xa(r))r=fa(r,0);else if(Na(r))r=la(r,0);else if(!Bn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");r=new Tt(r)}else if(vt(arguments[0])){if(!L((r=arguments[0]).byteLength/Oa))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Oa+". Byte length: `"+r.byteLength+"`.");r=new Tt(r)}else{if(!Bi(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(r=arguments[0],!1===Aa)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+r+"`.");if(!Ke(r[aa]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+r+"`.");if(!Ke((r=r[aa]()).next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((r=Ea(r))instanceof Error)throw r;r=new Tt(r)}else{if(!vt(r=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+r+"`.");if(!ai(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!L(e/Oa))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Oa+". Value: `"+e+"`.");if(2===t){if(!L((n=r.byteLength-e)/Oa))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Oa+". View byte length: `"+n+"`.");r=new Tt(r,e)}else{if(!ai(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Oa>r.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Oa+"`.");r=new Tt(r,e,2*n)}}return p(this,"_buffer",r),p(this,"_length",r.length/2),this}p(La,"BYTES_PER_ELEMENT",Oa),p(La,"name","Complex128Array"),p(La,"from",(function(e){var t,r,n,i,o,a,u,s,f,l,c;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ra(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Ke(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");r>2&&(t=arguments[2])}if(ja(e)){if(u=e.length,n){for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(ia(f=n.call(t,e.get(l),l)))o[c]=te(f),o[c+1]=re(f);else{if(!(no(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");o[c]=f[0],o[c+1]=f[1]}c+=2}return i}return new this(e)}if(rr(e)){if(n){for(u=e.length,a=yo(e),l=0;l<u;l++)if(!ia(a.getter(e,l))){s=!0;break}if(s){if(!Bn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(o=(i=new this(u/2))._buffer,l=0;l<u;l++)o[l]=n.call(t,a.getter(e,l),l);return i}for(o=(i=new this(u))._buffer,c=0,l=0;l<u;l++){if(ia(f=n.call(t,a.getter(e,l),l)))o[c]=te(f),o[c+1]=re(f);else{if(!(no(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");o[c]=f[0],o[c+1]=f[1]}c+=2}return i}return new this(e)}if(Bi(e)&&Aa&&Ke(e[aa])){if(!Ke((o=e[aa]()).next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((a=n?_a(o,n,t):Ea(o))instanceof Error)throw a;for(o=(i=new this(u=a.length/2))._buffer,l=0;l<u;l++)o[l]=a[l];return i}throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.")})),p(La,"of",(function(){var e,t;if(!Ke(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ra(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return new this(e)})),J(La.prototype,"buffer",(function(){return this._buffer.buffer})),J(La.prototype,"byteLength",(function(){return this._buffer.byteLength})),J(La.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),p(La.prototype,"BYTES_PER_ELEMENT",La.BYTES_PER_ELEMENT),p(La.prototype,"copyWithin",(function(e,t){if(!ja(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*t):this._buffer.copyWithin(2*e,2*t,2*arguments[2]),this})),p(La.prototype,"entries",(function(){var e,t,r,n,i,o,a;if(!ja(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return t=this,e=this._buffer,n=this._length,o=-1,a=-2,p(r={},"next",(function(){var t;if(o+=1,i||o>=n)return{done:!0};return t=new Qo(e[a+=2],e[a+1]),{value:[o,t],done:!1}})),p(r,"return",(function(e){if(i=!0,arguments.length)return{value:e,done:!0};return{done:!0}})),aa&&p(r,aa,(function(){return t.entries()})),r})),p(La.prototype,"get",(function(e){var t;if(!ja(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!ai(e))throw new TypeError("invalid argument. Must provide a nonnegative integer. Value: `"+e+"`.");if(!(e>=this._length))return new Qo((t=this._buffer)[e*=2],t[e+1])})),J(La.prototype,"length",(function(){return this._length})),p(La.prototype,"set",(function(e){var t,r,n,i,o,a,u,s,f;if(!ja(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!ai(r=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.")}else r=0;if(ia(e)){if(r>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+r+"`.");return n[r*=2]=te(e),void(n[r+1]=re(e))}if(ja(e)){if(r+(a=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e._buffer,f=n.byteOffset+r*Oa,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Tt(t.length),s=0;s<t.length;s++)i[s]=t[s];t=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2}else{if(!rr(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(a=e.length,s=0;s<a;s++)if(!ia(e[s])){o=!0;break}if(o){if(!Bn(a))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+a+"`.");if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(t=e,f=n.byteOffset+r*Oa,t.buffer===n.buffer&&t.byteOffset<f&&t.byteOffset+t.byteLength>f){for(i=new Tt(a),s=0;s<a;s++)i[s]=t[s];t=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=t[f],n[r+1]=t[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=e[s],n[r]=te(u),n[r+1]=re(u),r+=2}}));var Va=[La,wa],Ma=["Complex64Array","Complex128Array"];function Sa(e,t){if("function"!=typeof t)throw new TypeError("invalid argument. `constructor` argument must be callable. Value: `"+t+"`.");return e instanceof t}var Ia=[[Tt,"Float64Array"],[$o,"Float32Array"],[Ao,"Int32Array"],[un,"Uint32Array"],[zo,"Int16Array"],[gt,"Uint16Array"],[Mo,"Int8Array"],[st,"Uint8Array"],[Po,"Uint8ClampedArray"],[wa,"Complex64Array"],[La,"Complex128Array"]];function ka(e){var t,r;for(r=0;r<Ia.length;r++)if(Sa(e,Ia[r][0]))return Ia[r][1];for(;e;){for(t=Xe(e),r=0;r<Ia.length;r++)if(t===Ia[r][1])return Ia[r][1];e=kr(e)}}function Ba(e){var t,r,n;if(Ko(e))t=e;else{if(!function(e){var t,r;if("object"!=typeof e||null===e)return!1;for(r=0;r<Va.length;r++)if(e instanceof Va[r])return!0;for(;e;){for(t=Xe(e),r=0;r<Ma.length;r++)if(Ma[r]===t)return!0;e=kr(e)}return!1}(e))throw new TypeError("invalid argument. Must provide a typed array. Value: `"+e+"`.");t=8===e.BYTES_PER_ELEMENT?fa(e,0):la(e,0)}for(r={type:ka(e),data:[]},n=0;n<t.length;n++)r.data.push(t[n]);return r}function Pa(e,t,r){var n;for(n=0;n<8;n++)if(zt(e()))throw new Error("unexpected error. PRNG returned `NaN`.");for(n=r-1;n>=0;n--)t[n]=e();return t}function Fa(){return 0|N(1+2147483646*Math.random())}var Ua=2147483646,Ca=2147483646,Ya=32,za=39;function qa(e,t){var r;return r=t?"option":"argument",e.length<40?new RangeError("invalid "+r+". `state` array has insufficient length."):1!==e[0]?new RangeError("invalid "+r+". `state` array has an incompatible schema version. Expected: 1. Actual: "+e[0]+"."):3!==e[1]?new RangeError("invalid "+r+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+e[1]+"."):e[2]!==Ya?new RangeError("invalid "+r+". `state` array has an incompatible table length. Expected: "+"32. Actual: "+e[2]+"."):2!==e[35]?new RangeError("invalid "+r+". `state` array has an incompatible state length. Expected: "+2..toString()+". Actual: "+e[35]+"."):e[38]!==e.length-za?new RangeError("invalid "+r+". `state` array length is incompatible with seed section length. Expected: "+(e.length-za)+". Actual: "+e[38]+"."):null}function Ga(e){var t,r,n,i,o,a;if(n={},arguments.length){if(!Fi(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(b(e,"copy")&&(n.copy=e.copy,!F(e.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+e.copy+"`.");if(b(e,"state")){if(r=e.state,n.state=!0,!co(r))throw new TypeError("invalid option. `state` option must be an Int32Array. Option: `"+r+"`.");if(a=qa(r,!0))throw a;!1===n.copy?t=r:(t=new Ao(r.length),bo(r.length,r,1,t,1)),r=new Ao(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ya),i=new Ao(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,r[38])}if(void 0===i)if(b(e,"seed"))if(i=e.seed,n.seed=!0,k(i)){if(i>Ca)throw new RangeError("invalid option. `seed` option must be a positive integer less than the maximum signed 32-bit integer. Option: `"+i+"`.");i|=0}else{if(!(rr(i)&&i.length>0))throw new TypeError("invalid option. `seed` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `"+i+"`.");o=i.length,(t=new Ao(za+o))[0]=1,t[1]=3,t[2]=Ya,t[35]=2,t[37]=i[0],t[38]=o,bo.ndarray(o,i,1,0,t,1,39),r=new Ao(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ya),i=new Ao(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,o),r=Pa(m,r,Ya),t[36]=r[0]}else i=0|Fa()}else i=0|Fa();return void 0===r&&((t=new Ao(40))[0]=1,t[1]=3,t[2]=Ya,t[35]=2,t[37]=i,t[38]=1,t[39]=i,r=new Ao(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ya),i=new Ao(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,1),r=Pa(m,r,Ya),t[36]=r[0]),p(d,"NAME","minstd-shuffle"),J(d,"seed",u),J(d,"seedLength",s),fo(d,"state",c,h),J(d,"stateLength",f),J(d,"byteLength",l),p(d,"toJSON",g),p(d,"MIN",1),p(d,"MAX",2147483646),p(d,"normalized",y),p(y,"NAME",d.NAME),J(y,"seed",u),J(y,"seedLength",s),fo(y,"state",c,h),J(y,"stateLength",f),J(y,"byteLength",l),p(y,"toJSON",g),p(y,"MIN",(d.MIN-1)/Ua),p(y,"MAX",(d.MAX-1)/Ua),d;function u(){var e=t[38];return bo(e,i,1,new Ao(e),1)}function s(){return t[38]}function f(){return t.length}function l(){return t.byteLength}function c(){var e=t.length;return bo(e,t,1,new Ao(e),1)}function h(e){var o;if(!co(e))throw new TypeError("invalid argument. Must provide an Int32Array. Value: `"+e+"`.");if(o=qa(e,!1))throw o;!1===n.copy?n.state&&e.length===t.length?bo(e.length,e,1,t,1):(t=e,n.state=!0):(e.length!==t.length&&(t=new Ao(e.length)),bo(e.length,e,1,t,1)),r=new Ao(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,Ya),i=new Ao(t.buffer,t.byteOffset+39*t.BYTES_PER_ELEMENT,t[38])}function g(){var e={type:"PRNG"};return e.name=d.NAME,e.state=Ba(t),e.params=[],e}function m(){var e=0|t[37];return e=16807*e%Eo|0,t[37]=e,0|e}function d(){var e,n;return e=t[36],n=N(Ya*(e/Eo)),e=r[n],t[36]=e,r[n]=m(),e}function y(){return(d()-1)/Ua}}var Wa=Ga({seed:Fa()});p(Wa,"factory",Ga);var Da=.6931471803691238,$a=1.9082149292705877e-10,Ha=1048575;function Ja(e){var t,r,n,i,o,a,u,s,f,l,c,h;return 0===e?x:zt(e)||e<0?NaN:(o=0,(r=wn(e))<1048576&&(o-=54,r=wn(e*=0x40000000000000)),r>=2146435072?e+e:(o+=(r>>20)-Xr|0,o+=(s=(r&=Ha)+614244&1048576|0)>>20|0,u=(e=$n(e,r|1072693248^s))-1,(Ha&2+r)<3?0===u?0===o?0:o*Da+o*$a:(a=u*u*(.5-.3333333333333333*u),0===o?u-a:o*Da-(a-o*$a-u)):(s=r-398458|0,f=440401-r|0,i=(c=(h=(l=u/(2+u))*l)*h)*function(e){return 0===e?.3999999999940942:.3999999999940942+e*(.22222198432149784+.15313837699209373*e)}(c),n=h*function(e){return 0===e?.6666666666666735:.6666666666666735+e*(.2857142874366239+e*(.1818357216161805+.14798198605116586*e))}(c),a=n+i,(s|=f)>0?(t=.5*u*u,0===o?u-(t-l*(t+a)):o*Da-(t-(l*(t+a)+o*$a)-u)):0===o?u-l*(u-a):o*Da-(l*(u-a)-o*$a-u))))}function Xa(e,t,r){return(r?Rr:Gi)("float64",new Tt(e*t),[e,t],[t,1],0,"row-major")}function Za(e,t){var r,n,i,o,a,u,s,f,l,c,h;for(l=t.shape[0],c=t.shape[1],r=t.data,n=e.data,i=t.strides[0],o=t.strides[1],a=e.strides[0],u=e.strides[1],s=t.offset,f=e.offset,h=0;h<l;h++)wo(c,r,o,s,n,u,f),s+=i,f+=a;return e}function Ka(e,t){return(t?Rr:Gi)("float64",new Tt(e),[e],[1],0,"row-major")}function Qa(e,t){return wo(t.shape[0],t.data,t.strides[0],t.offset,e.data,e.strides[0],e.offset),e}var eu=["euclidean","correlation","cosine"],tu=["forgy","sample","kmeans++"];function ru(e,t){if(!Fi(t))return new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(b(t,"metric")&&(e.metric=t.metric,!io(eu,e.metric)))return new TypeError("invalid option. `metric` option must be one of the following: ["+eu.join(", ")+"]. Option: `"+e.metric+"`.");if(b(t,"init")){if(!no(t.init))return new TypeError("invalid option. `init` option must be an array-like object. Option: `"+t.init+"`.");if(!io(tu,t.init[0]))return new TypeError("invalid option. `init` option method must be one of the following: ["+tu.join(", ")+"]. Option: `"+t.init[0]+"`.");if(e.init[0]=t.init[0],t.init.length>1&&(e.init[1]=t.init[1],!k(e.init[1])))return new TypeError("invalid option. First `init` parameter option must be a positive integer. Option: `"+e.init[1]+"`.");if(t.init.length>2&&(e.init[2]=t.init[2],!k(e.init[2])))return new TypeError("invalid option. Second `init` parameter option must be a positive integer. Option: `"+e.init[2]+"`.")}return b(t,"normalize")&&(e.normalize=t.normalize,!F(e.normalize))?new TypeError("invalid option. `normalize` option must be a boolean. Option: `"+e.normalize+"`."):b(t,"copy")&&(e.copy=t.copy,!F(e.copy))?new TypeError("invalid option. `copy` option must be a boolean. Option: `"+e.copy+"`."):(b(t,"seed")&&(e.seed=t.seed),null)}var nu={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]};function iu(e,t,r,n){var i,o,a,u;for(o=0,i=n,u=0;u<e;u++)o+=(a=t[i])*a,i+=r;for(o=Fn(o),i=n,u=0;u<e;u++)t[i]/=o;return t}function ou(e){var t,r,n,i,o,a,u;for(t=e.data,o=e.shape[0],a=e.shape[1],r=e.strides[0],n=e.strides[1],i=e.offset,u=0;u<o;u++)iu(a,t,n,i),i+=r;return e}function au(e,t,r,n,i,o,a,u,s,f){var l,c,h,p;for(l=n,c=a,h=f,p=0;p<e;p++)t[l]=(t[l]-i[c])/u[h],l+=r,c+=o,h+=s;return t}function uu(e,t){var r,n,i,o,a,u,s;for(r=e.data,a=e.shape[0],u=e.shape[1],n=e.strides[0],i=e.strides[1],o=e.offset,s=0;s<a;s++)au(u,r,i,o,t,2,0,t,2,1),o+=n;return e}function su(e){return null!==e&&"object"==typeof e&&ai(e.length)&&e.length<=tr&&"number"==typeof e.BYTES_PER_ELEMENT&&"number"==typeof e.byteOffset&&"number"==typeof e.byteLength}var fu=9007199254740991;function lu(e,t){var r,n;return((r=(65535&(e>>>=0))>>>0)*(n=(65535&(t>>>=0))>>>0)>>>0)+((e>>>16>>>0)*n+r*(t>>>16>>>0)<<16>>>0)>>>0}function cu(){return N(1+4294967294*Math.random())>>>0}var hu=624,pu=4294967295,gu=19650218,mu=2147483648,du=2147483647,yu=2636928640,vu=4022730752,bu=[0,2567483615],wu=1/9007199254740992,Eu=67108864,_u=.9999999999999999,Tu=630;function Ou(e,t){var r;return r=t?"option":"argument",e.length<631?new RangeError("invalid "+r+". `state` array has insufficient length."):1!==e[0]?new RangeError("invalid "+r+". `state` array has an incompatible schema version. Expected: 1. Actual: "+e[0]+"."):3!==e[1]?new RangeError("invalid "+r+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+e[1]+"."):e[2]!==hu?new RangeError("invalid "+r+". `state` array has an incompatible state length. Expected: "+hu+". Actual: "+e[2]+"."):1!==e[627]?new RangeError("invalid "+r+". `state` array has an incompatible section length. Expected: "+1..toString()+". Actual: "+e[627]+"."):e[629]!==e.length-Tu?new RangeError("invalid "+r+". `state` array length is incompatible with seed section length. Expected: "+(e.length-Tu)+". Actual: "+e[629]+"."):null}function Au(e,t,r){var n;for(e[0]=r>>>0,n=1;n<t;n++)r=((r=e[n-1]>>>0)^r>>>30)>>>0,e[n]=lu(r,1812433253)+n>>>0;return e}function ju(e,t,r,n){var i,o,a,u;for(o=1,a=0,u=$r(t,n);u>0;u--)i=lu(i=((i=e[o-1]>>>0)^i>>>30)>>>0,1664525)>>>0,e[o]=(e[o]>>>0^i)+r[a]+a>>>0,a+=1,(o+=1)>=t&&(e[0]=e[t-1],o=1),a>=n&&(a=0);for(u=t-1;u>0;u--)i=lu(i=((i=e[o-1]>>>0)^i>>>30)>>>0,1566083941)>>>0,e[o]=(e[o]>>>0^i)-o>>>0,(o+=1)>=t&&(e[0]=e[t-1],o=1);return e[0]=2147483648,e}function Ru(e){var t,r;for(227,r=0;r<227;r++)t=e[r]&mu|e[r+1]&du,e[r]=e[r+397]^t>>>1^bu[1&t];for(623;r<623;r++)t=e[r]&mu|e[r+1]&du,e[r]=e[r-227]^t>>>1^bu[1&t];return t=e[623]&mu|e[0]&du,e[623]=e[396]^t>>>1^bu[1&t],e}function xu(e){var t,r,n,i,o,a;if(n={},arguments.length){if(!Fi(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(b(e,"copy")&&(n.copy=e.copy,!F(e.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+e.copy+"`.");if(b(e,"state")){if(r=e.state,n.state=!0,!en(r))throw new TypeError("invalid option. `state` option must be a Uint32Array. Option: `"+r+"`.");if(a=Ou(r,!0))throw a;!1===n.copy?t=r:(t=new un(r.length),bo(r.length,r,1,t,1)),r=new un(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,hu),i=new un(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,r[629])}if(void 0===i)if(b(e,"seed"))if(i=e.seed,n.seed=!0,k(i)){if(i>pu)throw new RangeError("invalid option. `seed` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");i>>>=0}else{if(!1===rr(i)||i.length<1)throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");if(1===i.length){if(!k(i=i[0]))throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");if(i>pu)throw new RangeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");i>>>=0}else o=i.length,(t=new un(Tu+o))[0]=1,t[1]=3,t[2]=hu,t[627]=1,t[628]=hu,t[629]=o,bo.ndarray(o,i,1,0,t,1,630),r=new un(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,hu),i=new un(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,o),r=ju(r=Au(r,hu,gu),hu,i,o)}else i=cu()>>>0}else i=cu()>>>0;return void 0===r&&((t=new un(631))[0]=1,t[1]=3,t[2]=hu,t[627]=1,t[628]=hu,t[629]=1,t[630]=i,r=new un(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,hu),i=new un(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,1),r=Au(r,hu,i)),p(m,"NAME","mt19937"),J(m,"seed",u),J(m,"seedLength",s),fo(m,"state",c,h),J(m,"stateLength",f),J(m,"byteLength",l),p(m,"toJSON",g),p(m,"MIN",1),p(m,"MAX",Jt),p(m,"normalized",d),p(d,"NAME",m.NAME),J(d,"seed",u),J(d,"seedLength",s),fo(d,"state",c,h),J(d,"stateLength",f),J(d,"byteLength",l),p(d,"toJSON",g),p(d,"MIN",0),p(d,"MAX",_u),m;function u(){var e=t[629];return bo(e,i,1,new un(e),1)}function s(){return t[629]}function f(){return t.length}function l(){return t.byteLength}function c(){var e=t.length;return bo(e,t,1,new un(e),1)}function h(e){var o;if(!en(e))throw new TypeError("invalid argument. Must provide a Uint32Array. Value: `"+e+"`.");if(o=Ou(e,!1))throw o;!1===n.copy?n.state&&e.length===t.length?bo(e.length,e,1,t,1):(t=e,n.state=!0):(e.length!==t.length&&(t=new un(e.length)),bo(e.length,e,1,t,1)),r=new un(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,hu),i=new un(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,t[629])}function g(){var e={type:"PRNG"};return e.name=m.NAME,e.state=Ba(t),e.params=[],e}function m(){var e,n;return(n=t[628])>=hu&&(r=Ru(r),n=0),e=r[n],t[628]=n+1,e^=e>>>11,e^=e<<7&yu,e^=e<<15&vu,(e^=e>>>18)>>>0}function d(){var e=m()>>>5,t=m()>>>6;return(e*Eu+t)*wu}}function Nu(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}p(xu({seed:cu()}),"factory",xu),p(Nu,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var Lu=void 0!==Object.getOwnPropertyNames,Vu=Object.getOwnPropertyNames;var Mu=Lu?function(e){return Vu(Object(e))}:function(e){return cr(Object(e))},Su=void 0!==Object.getOwnPropertyDescriptor,Iu=Object.getOwnPropertyDescriptor;var ku=Su?function(e,t){var r;return null==e||void 0===(r=Iu(e,t))?null:r}:function(e,t){return b(e,t)?{configurable:!0,enumerable:!0,writable:!0,value:e[t]}:null},Bu="function"==typeof Buffer?Buffer:null;var Pu,Fu=t.Buffer;Pu=function(){var e,t;if("function"!=typeof Bu)return!1;try{e=Je(t="function"==typeof Bu.from?Bu.from([1,2,3,4]):new Bu([1,2,3,4]))&&1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]}catch(t){e=!1}return e}()?Fu:function(){throw new Error("not implemented")};var Uu=Pu;var Cu=Ke(Uu.from)?function(e){if(!Je(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return Uu.from(e)}:function(e){if(!Je(e))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+e+"`");return new Uu(e)};function Yu(e){return new Mo(e)}function zu(e){return new st(e)}function qu(e){return new Po(e)}function Gu(e){return new zo(e)}function Wu(e){return new gt(e)}function Du(e){return new Ao(e)}function $u(e){return new un(e)}function Hu(e){return new $o(e)}function Ju(e){return new Tt(e)}var Xu={int8array:Yu,uint8array:zu,uint8clampedarray:qu,int16array:Gu,uint16array:Wu,int32array:Du,uint32array:$u,float32array:Hu,float64array:Ju};function Zu(e,t,r,n,i){var o,a,u,s,f,l,h,p,g,m;if(i-=1,"object"!=typeof e||null===e)return e;if(Je(e))return Cu(e);if(Br(e))return function(e){var t,r,n,i,o,a,u=[],s=[];for(o=new e.constructor(e.message),u.push(e),s.push(o),e.stack&&(o.stack=e.stack),e.code&&(o.code=e.code),e.errno&&(o.errno=e.errno),e.syscall&&(o.syscall=e.syscall),t=cr(e),a=0;a<t.length;a++)i=t[a],b(r=ku(e,i),"value")&&(n=De(e[i])?[]:{},r.value=Zu(e[i],n,u,s,-1)),c(o,i,r);return o}(e);if("date"===(u=Ze(e)))return new Date(+e);if("regexp"===u)return function(e){if(!ne(e))throw new TypeError(Fe("invalid argument. Must provide a regular expression string. Value: `%s`.",e));return(e=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(e))?new RegExp(e[1],e[2]):null}(e.toString());if("set"===u)return new Set(e);if("map"===u)return new Map(e);if("string"===u||"boolean"===u||"number"===u)return e.valueOf();if(f=Xu[u])return f(e);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(e){var t,r,n,i,o,a,u,s;for(t=[],i=[],u=Object.create(kr(e)),t.push(e),i.push(u),r=Mu(e),s=0;s<r.length;s++)n=r[s],b(o=ku(e,n),"value")&&(a=De(e[n])?[]:{},o.value=Zu(e[n],a,t,i,-1)),c(u,n,o);return Object.isExtensible(e)||Object.preventExtensions(u),Object.isSealed(e)&&Object.seal(u),Object.isFrozen(e)&&Object.freeze(u),u}(e):{};if(a=cr(e),i>0)for(o=u,m=0;m<a.length;m++)p=e[l=a[m]],u=Ze(p),"object"!=typeof p||null===p||"array"!==u&&"object"!==u||Je(p)?"object"===o?(b(s=ku(e,l),"value")&&(s.value=Zu(p)),c(t,l,s)):t[l]=Zu(p):-1===(g=nr(r,p))?(h=De(p)?new Array(p.length):{},r.push(p),n.push(h),"array"===o?t[l]=Zu(p,h,r,n,i):(b(s=ku(e,l),"value")&&(s.value=Zu(p,h,r,n,i)),c(t,l,s))):t[l]=n[g];else if("array"===u)for(m=0;m<a.length;m++)t[l=a[m]]=e[l];else for(m=0;m<a.length;m++)l=a[m],s=ku(e,l),c(t,l,s);return Object.isExtensible(e)||Object.preventExtensions(t),Object.isSealed(e)&&Object.seal(t),Object.isFrozen(e)&&Object.freeze(t),t}function Ku(e,t){var r;if(arguments.length>1){if(!ai(t))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+t+"`.");if(0===t)return e}else t=R;return Zu(e,r=De(e)?new Array(e.length):{},[e],[r],t)}function Qu(e,t,r){var n,i,o,a;for(o=e.length,i=new Array(t),a=0;a<t;a++)n=N(o*r()),i[a]=e[n];return i}function es(e,t,r,n){var i,o,a,u,s,f,l,c;for(u=e.length,i=new Array(u),s=0;s<u;s++)i[s]=n[s];for(a=new Array(t),s=0;s<t;s++){for(c=r(),o=0,f=0;f<u&&!(c<(o+=i[f]));f++);for(l=0;l<u;l++)l!==f&&(i[l]/=1-i[f]);i[f]=0,a[s]=e[f]}return a}var ts=Array.prototype.slice;function rs(e,t,r){var n,i,o;for(i=e.length-1;i>0;i--)o=N(r()*(i+1)),n=e[i],e[i]=e[o],e[o]=n;return ts.call(e,0,t)}function ns(e,t,r,n){var i,o,a,u,s,f,l,c,h,p;for(a=n.slice(),f=e.length,i=[],o=[],h=0;h<f;h++)a[h]*=f,a[h]<1?i.push(h):o.push(h);for(u=new Array(f),l=new Array(f);0!==i.length&&0!==o.length;)p=i.shift(),c=o.shift(),l[p]=a[p],u[p]=c,a[c]=a[c]+a[p]-1,a[c]<1?i.push(c):o.push(c);for(h=0;h<o.length;h++)l[o[h]]=1;for(h=0;h<i.length;h++)l[i[h]]=1;for(s=new Array(t),h=0;h<t;h++)p=N(f*r()),r()<l[p]?s[h]=e[p]:s[h]=e[u[p]];return s}var is={mutate:!1,replace:!0};function os(e,t){return zt(e)||zt(t)?NaN:Zr(e)||Zr(t)?e===t?NaN:R:Z(e-t)}var as=1.4901161193847656e-8;function us(e,t){return Fi(t)?b(t,"size")&&(e.size=t.size,!si(e.size))?new TypeError("invalid option. `size` option must be a nonnegative integer. Option: `"+e.size+"`."):b(t,"probs")&&(e.probs=t.probs,!function(e){var t,r;if(De(e)){for(t=0,r=0;r<e.length;r++){if(!g(e[r])||e[r]>1||e[r]<0)return!1;t+=e[r]}return os(t,1)<=as}if(Ko(e)){for(t=0,r=0;r<e.length;r++){if(e[r]>1||e[r]<0)return!1;t+=e[r]}return os(t,1)<=as}return!1}(e.probs))?new TypeError("invalid option. `probs` option must be an array of probabilities that sum to one. Option: `"+e.probs+"`."):b(t,"mutate")&&(e.mutate=t.mutate,!F(e.mutate))?new TypeError("invalid option. `mutate` option must be a boolean primitive. Option: `"+e.mutate+"`."):b(t,"replace")&&(e.replace=t.replace,!F(e.replace))?new TypeError("invalid option. `replace` option must be a boolean primitive. Option: `"+e.replace+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")}var ss=Array.prototype.slice;function fs(){var e,t,r,n,i,o;if(r=Ku(is),1===arguments.length)li(arguments[0])||su(arguments[0])?t=arguments[0]:i=us(r,e=arguments[0]);else if(arguments.length>1){if(e=arguments[1],!li(t=arguments[0])&&!su(t))throw new TypeError("invalid argument. `pool` argument must be array-like. Value: `"+t+"`.");i=us(r,e)}if(i)throw i;return n=e&&e.seed?xu({seed:e.seed}):xu(),void 0===t?o=a:(t=ne(t)?t.split(""):Ku(t),o=u),p(o,"seed",n.seed),p(o,"PRNG",n),n=n.normalized,o;function a(e,t){var i,o,a,u,s;if(!li(e)&&!su(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(ne(e)&&(e=e.split("")),a={},arguments.length>1&&(s=us(a,t)))throw s;if(i=void 0===a.replace?r.replace:a.replace,void 0!==a.probs&&(o=a.probs),u=a.size?a.size:r.size?r.size:e.length,!1===i&&u>e.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `"+u+"`.");return o?i?ns(e,u,n,o):es(e,u,n,o):i?Qu(e,u,n):rs(ss.call(e),u,n)}function u(e){var i,o,a,u,s,f;if(0===t.length)return null;if(a={},arguments.length&&(s=us(a,e)))throw s;if(o=void 0===a.mutate?r.mutate:a.mutate,i=void 0===a.replace?r.replace:a.replace,u=a.size?a.size:r.size?r.size:t.length,!1===i&&u>t.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `"+u+"`.");return i?Qu(t,u,n):(f=rs(t,u,n),o&&(t=t.slice(u,t.length)),f)}}function ls(e){return function(){return e}}function cs(e,t){return!M(e)||Wt(e)?new TypeError("invalid argument. First argument must be an integer and not `NaN`. Value: `"+e+"`."):!M(t)||Wt(t)?new TypeError("invalid argument. Second argument must be an integer and not `NaN`. Value: `"+t+"`."):e>t?new RangeError("invalid argument. Minimum support `a` must be less than or equal to maximum support `b`. Value: `["+e+","+t+"]`."):null}function hs(e,t,r){var n,i,o,a,u,s,f,l;if(0===(o=r-t))return t;if(f=e.MIN,(i=e.MAX-f)===o)return e()-f+t;if(i<o)for(a=0;;){for(o===fu?(a=N(o/(i+1)),o%(i+1)===i&&(a+=1)):a=N((o+1)/(i+1)),n=0,s=1;s<=a;){if(n+=(e()-f)*s,s*i==o-s+1)return n;s*=i+1}if(!((l=hs(e,0,N(o/s)))>fu/s||(n+=l*=s)>o))return n+t}for(i===fu?(u=N(i/(o+1)),i%(o+1)===o&&(u+=1)):u=N((i+1)/(o+1));;)if(n=e()-f,(n=N(n/u))<=o)return n+t}function ps(){var e,t,r,n,i,o;if(0===arguments.length)t=xu();else if(1===arguments.length){if(!Fi(e=arguments[0]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(b(e,"prng")){if(!Ke(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");if(!L((t=e.prng).MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!L(t.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else t=xu(e)}else{if(n=cs(i=arguments[0],o=arguments[1]))throw n;if(arguments.length>2){if(!Fi(e=arguments[2]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(b(e,"prng")){if(!Ke(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");if(!L((t=e.prng).MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!L(t.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else t=xu(e)}else t=xu()}return p(r=void 0===i?m:g,"NAME","discrete-uniform"),e&&e.prng?(p(r,"seed",null),p(r,"seedLength",null),fo(r,"state",ls(null),Kt),p(r,"stateLength",null),p(r,"byteLength",null),p(r,"toJSON",ls(null)),p(r,"PRNG",t)):(J(r,"seed",a),J(r,"seedLength",u),fo(r,"state",l,c),J(r,"stateLength",s),J(r,"byteLength",f),p(r,"toJSON",h),p(r,"PRNG",t)),r;function a(){return t.seed}function u(){return t.seedLength}function s(){return t.stateLength}function f(){return t.byteLength}function l(){return t.state}function c(e){t.state=e}function h(){var e={type:"PRNG"};return e.name=r.NAME,e.state=Ba(t.state),e.params=void 0===i?[]:[i,o],e}function g(){return hs(t,i,o)}function m(e,r){return zt(e)||zt(r)||!L(e)||!L(r)||e>r?NaN:hs(t,e,r)}}function gs(e,t,r,n,i,o,a){var u=function(e,t,r,n,i,o,a){var u,s,f,l,c;for(u=n,s=a,l=0,c=0;c<e;c++)l+=(f=t[u]-i[s])*f,u+=r,s+=o;return Fn(l)}(e,t,r,n,i,o,a);return u*u}function ms(e,t,r,n,i,o,a){var u,s,f,l;for(u=n,s=a,f=0,l=0;l<e;l++)f+=t[u]*i[s],u+=r,s+=o;return f}function ds(e,t,r,n,i,o,a){var u=1-ms(e,t,r,n,i,o,a);return u*u}function ys(e,t,r,n,i,o,a){var u=1-ms(e,t,r,n,i,o,a);return u*u}function vs(e,t,r,n,i,o){var a,u,s,f,l;for(f=i.data,a=(s=i.strides[0])*o,u=0,l=0;l<r;l++)e[l]=t(n,f,1,u,f,1,a),u+=s;return e}function bs(){var e,t;return e=0,t=0,function(r){if(0===arguments.length)return 0===t?null:e;return e+=(r-e)/(t+=1)}}function ws(e,t,r,n,i,o,a,u,s){var f,l,c,h;for(f=R,h=0;h<t;h++)(c=e(r,n,1,o,a,u,s))<f&&(f=c,l=h),o+=i;return l}function Es(e,t,r,n,i,o,a,u){var s,f;for(f=0;f<e;f++)s=r[i],s+=(o[u]-s)/t,r[i]=s,i+=n,u+=a;return r}function _s(e,t,r,n,i,o){var a,u;return u=e.shape[1],function(s){void 0===a&&((a=Xa(o.init[1],u,!0)).count=0);if(a.count<o.init[1]&&(wo(u,s.data,s.strides[0],s.offset,a.data,a.strides[1],a.strides[0]*a.count),a.count+=1,a.count<o.init[1]))return!1;o.normalize&&("cosine"===o.metric?a=ou(a):"correlation"===o.metric&&(a=uu(a,n())));e="forgy"===o.init[0]?function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p,g,m,d,y,v;for(m=e.shape[0],d=e.shape[1],i=e.data,f=e.strides[0],l=e.strides[1],h=e.offset,a=t.data,o=t.shape[0],u=t.strides[0],s=t.strides[1],g=t.offset,n=ps(0,m-1,{seed:r}),c=[],y=0;y<m*d;y++)c.push(bs());for(y=0;y<o;y++){for(p=d*n(),v=0;v<d;v++)c[p+v](a[g+s*v]);g+=u}for(p=0,y=0;y<m;y++){for(v=0;v<d;v++)i[h+l*v]=c[p](),p+=1;h+=f}return e}(e,a,o.seed):"sample"===o.init[0]?function(e,t,r){var n,i,o,a,u,s,f,l,c,h,p;for(c=e.shape[0],h=e.shape[1],i=e.data,s=e.strides[1],f=e.offset,o=t.data,a=t.strides[0],u=t.strides[1],n=[],p=0;p<t.shape[0];p++)n.push(p);for(l=c===n.length?n:fs({seed:r,size:c,mutate:!1,replacement:!1})(n),p=0;p<c;p++)zr(h,o,u,a*l[p],i,s,f);return e}(e,a,o.seed):function(e,t,r,n,i){var o,a,u,s,f,l,c,h,p,g,m,d,y,v,b,w,E,_,T,O,A,j,x,N,L,V,M,S;if(N=e.shape[0],s=e.shape[1],h=t.shape[0],d=e.data,E=e.strides[0],_=e.strides[1],T=e.offset,y=t.data,b=t.strides[0],w=t.strides[1],u=ps({seed:(c=xu({seed:i}))()}),c=c.normalized,m="cosine"===r?ds:"correlation"===r?ys:gs,x=u(0,h-1),1===N)return zr(s,y,w,b*x,d,_,T);for(o=[x],O=new Array(s),f=new Array(2*h),v=0,V=0;V<h;V++)f[v]=R,f[v+1]=0,v+=2;for(l=new Array(h),M=1;M<N;M++){for(vs(O,m,h,s,t,o[M-1]),p=0,v=0,V=0;V<h;V++)O[V]<f[v]?(f[v]=O[V],f[v+1]=M-1,p+=O[V]):p+=f[v],v+=2;for(l[0]=f[0]/p,v=2,V=1;V<h;V++)l[V]=l[V-1]+f[v]/p,v+=2;for(g=R,A=-1,S=0;S<n;S++){for(x=-1;-1===x;)for(L=c(),V=0;V<h;V++)if(L<l[V]){x=V;break}for(p=0,a=b*x,v=0,V=0;V<h;V++)(j=m(s,y,1,b*V,y,1,a))<f[v]?p+=j:p+=f[v],v+=2;p<g&&(g=p,A=x)}o.push(A)}for(V=0;V<N;V++)zr(s,y,w,b*o[V],d,_,T),T+=E;return e}(e,a,o.metric,o.init[2],o.seed);return function(e,t,r,n,i){var o,a,u,s,f,l,c,h,p,g,m;for(p=t.shape[0],o=t.shape[1],s=e.shape[0],a=t.data,f=t.strides[0],u=e.data,l=e.strides[0],h=0,m=0;m<s;m++)c=f*(g=ws(i,p,o,a,f,0,u,1,h)),Es(o,r.get(g,0)+1,a,1,c,u,1,h),n(g,i(o,a,1,c,u,1,h)),h+=l}(a,e,t,r,i),!0}}function Ts(e,t){var r,n;for(r=[],n=0;n<t;n++)r.push(0);return function(t,n){var i,o,a;return a=e.get(t,0)+1,e.set(t,0,a),e.set(t,1,e.get(t,1)+n),o=e.get(t,2),o+=(i=n-o)/a,r[t]+=i*(n-o),e.set(t,2,o),e.set(t,3,Fn(r[t]/(a-1))),e}}function Os(e){var t,r,n,i,o;if(0===arguments.length)t=[0,0];else{if(!no(e))throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+e+"`.");t=e}return i=0,n=0,o=0,a;function a(e){return 0===arguments.length?0===o?null:(t[0]=n,1===o?(zt(i)?t[1]=NaN:t[1]=0,t):(t[1]=Fn(i/(o-1)),t)):(i+=(r=e-n)*(e-(n+=r/(o+=1))),t[0]=n,o<2?(zt(i)?t[1]=NaN:t[1]=0,t):(t[1]=Fn(i/(o-1)),t))}}function As(e){var t,r,n,i,o;for(2,t=2*(n=new Tt(2*e)).BYTES_PER_ELEMENT,r=[],i=0,o=0;o<e;o++)r.push(Os(new Tt(n.buffer,i,2))),i+=t;return function(t){var i;if(0===arguments.length)return n;for(i=0;i<e;i++)r[i](t.get(i));return n}}p(fs(),"factory",fs),p(ps(),"factory",ps);function js(e,t){var r={};return r.centroids=Xa(e,t,!1),r.stats=Xa(e,4,!1),r}function Rs(e,t){var r;if(!(this instanceof Rs))return new Rs(e,t);if(!P(e))throw new TypeError("invalid argument. First argument `dim` must be a positive integer. Value: `"+e+"`.");if(!z(t))throw new TypeError("invalid argument. Second argument `intercept` must be a boolean primitive. Value: `"+t+"`.");for(this.scale=1,this.norm=0,this.intercept=t,this.nWeights=e+(this.intercept?1:0),this._data=new Array(this.nWeights),r=0;r<this.nWeights;r++)this._data[r]=0}p(Rs.prototype,"scaleTo",(function(e){var t;if(this.scale<1e-11){for(t=0;t<this.nWeights;t++)this._data[t]*=this.scale;this.scale=1}if(this.norm*=oi(e,2),!(e>0))throw new RangeError("Scaling weight vector by nonpositive value, likely due to too large value of eta * lambda. Value: `"+e+"`");this.scale*=e})),p(Rs.prototype,"add",(function(e,t){var r,n,i;for(n=0,void 0===t&&(t=1),i=0;i<e.length;i++)r=e[i]*t,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale;this.intercept&&(r=1*t,n+=this._data[i]*r,this._data[i]=this._data[i]+r/this.scale),this.norm+=(function(e,t){var r,n=e.length,i=0;for(r=0;r<n;r++)i+=e[r]*t[r];return i}(e,e)+(this.intercept?1:0))*oi(t,2)+2*this.scale*n})),p(Rs.prototype,"innerProduct",(function(e){var t,r=0;for(t=0;t<e.length;t++)r+=this._data[t]*e[t];return r+=this.intercept?this._data[t]:0,r*=this.scale}));function xs(e,t,r){var n;t>0&&(n=1-r*t,e.scaleTo($r(n,1e-7)))}function Ns(e,t,r,n,i,o){var a=e.innerProduct(t)-r;xs(e,i,n),a>o?e.add(t,-n):a<-o&&e.add(t,+n)}function Ls(e,t,r,n,i){var o=r-e.innerProduct(t);xs(e,i,n),e.add(t,n*o)}function Vs(e,t,r,n,i,o){var a=e.innerProduct(t)-r;xs(e,i,n),a>o?e.add(t,-n):a<-o?e.add(t,+n):e.add(t,-n*a)}function Ms(e,t,r){var n,i;switch(n=1,e){case"basic":i=function(){var e=1e3/(n+1e3);return n+=1,e};break;case"constant":i=function(){return n+=1,t};break;case"pegasos":i=function(){var e=1/(r*n);return n+=1,e};break;default:throw new Error("invalid input value. `learningRate` must be either `basic`, `constant` or `pegasos`. Value: `"+e+"`")}return i}var Ss={epsilon:.1,eta0:.02,intercept:!0,lambda:.001,learningRate:"basic",loss:"squaredError"};function Is(e,t){return Fi(t)?b(t,"epsilon")&&(e.epsilon=t.epsilon,!eo(e.epsilon))?new TypeError("invalid option. `epsilon` option must be a positive number. Option: `"+e.epsilon+"`."):b(t,"eta0")&&(e.eta0=t.eta0,!eo(e.eta0))?new TypeError("invalid option. `eta0` option must be a positive number. Option: `"+e.eta0+"`."):b(t,"lambda")&&(e.lambda=t.lambda,!Zi(e.lambda))?new TypeError("invalid option. `lambda` option must be a nonnegative number. Option: `"+e.lambda+"`."):b(t,"learningRate")&&(e.learningRate=t.learningRate,!ne(e.learningRate))?new TypeError("invalid option. `learningRate` option must be a primitive string. Option: `"+e.learningRate+"`."):b(t,"loss")&&(e.loss=t.loss,!ne(e.loss))?new TypeError("invalid option. `loss` option must be a primitive string. Option: `"+e.loss+"`."):b(t,"intercept")&&(e.intercept=t.intercept,!F(e.intercept))?new TypeError("invalid option. `intercept` option must be a primitive boolean. Option: `"+e.intercept+"`."):null:new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")}var ks={};return h(ks,"incrBinaryClassification",(function(e,t){var r,n,i;if(!k(e))throw new TypeError("invalid argument. First argument must be a positive integer. Value: `"+e+"`.");if(n={intercept:!0,lambda:1e-4,learningRate:Xi.basic.slice(),loss:"log"},arguments.length>1&&(i=uo(n,t)))throw i;return r=new Ji(e,n),p(o,"predict",a),o;function o(e,t){if(0===arguments.length)return r.coefficients;if(!Nr(e))throw new TypeError("invalid argument. First argument must be a one-dimensional ndarray. Value: `"+e+"`.");if(-1!==t&&1!==t)throw new TypeError("invalid argument. Second argument must be either +1 or -1. Value: `"+t+"`.");if(e.shape[0]!==r.nfeatures)throw new TypeError("invalid argument. First argument must be a one-dimensional ndarray of length "+r.nfeatures+". Actual length: `"+e.shape[0]+"`.");return r.update(e,t),r.coefficients}function a(t,i){var o,a;if(!xr(t))throw new TypeError("invalid argument. First argument must be an ndarray. Value: `"+t+"`.");if((o=t.shape)[o.length-1]!==e)throw new TypeError("invalid argument. First argument must be an ndarray whose last dimension is of size "+e+". Actual size: `"+o[o.length-1]+"`.");if(a="label",arguments.length>1){if("probability"===i){if("log"!==n.loss&&"modifiedHuber"!==n.loss)throw new Error("invalid argument. Second argument is incompatible with model loss function. Probability predictions are only supported when the loss function is either `log` or `modifiedHuber`. Model loss function: `"+n.loss+"`.")}else if("label"!==i&&"linear"!==i)throw new TypeError("invalid argument. Second argument must be a string value equal to either 'label', 'probability', or 'linear'. Value: `"+i+"`.");a=i}return r.predict(t,a)}})),h(ks,"incrkmeans",(function(){var e,t,r,n,i,o,a,u,s,f,l,c,h,g;if(so(arguments[0]))g=arguments[0].shape[0],u=arguments[0].shape[1],t=Za(t=Xa(g,u,!0),arguments[0]),arguments.length>1&&(n=arguments[1],h=!0);else{if(!k(arguments[0]))throw new TypeError("invalid argument. First argument must either be a positive integer specifying the number of clusters or a matrix containing initial centroids. Value: `"+arguments[0]+"`.");if(g=arguments[0],!k(u=arguments[1]))throw new TypeError("invalid argument. Argument specifying number of dimensions must be a positive integer. Value: `"+u+"`.");arguments.length>2&&(n=arguments[2],h=!0)}if((f={metric:"euclidean",init:nu["kmeans++"].slice(),seed:Wa(),normalize:!0,copy:!0}).init[1]=g,f.init[2]=2+N(Ja(g)),h&&(c=ru(f,n)))throw c;if(f.init[1]<g)throw new RangeError("invalid option. First `init` parameter option must be greater than or equal to the number of clusters. Options: `"+f.init[1]+"`.");return i=js(g,u),a=Xa(g,4,!0),e=Ts(a,g),"cosine"===f.metric?(s=ds,f.copy&&(o=Ka(u,!0))):"correlation"===f.metric?(s=ys,f.normalize&&(r=As(u)),f.copy&&(o=Ka(u,!0))):s=gs,void 0===t?(t=Xa(g,u,!0),l=_s(t,a,e,r,s,f)):Za(i.centroids,t),p(m,"seed",f.seed),p(m,"predict",d),m;function m(n){var c,h,p,m,d,y,v,b,w,E,_;if(0===arguments.length)return l?null:i;if(!Nr(b=n))throw new TypeError("invalid argument. Must provide a 1-dimensional ndarray. Value: `"+b+"`.");if(b.shape[0]!==u)throw new Error("invalid argument. Vector length must match centroid dimensions. Expected: "+u+". Actual: "+b.shape[0]+".");if(r&&r(b),l){if(!1===l(b))return null;l=void 0}else f.normalize&&("cosine"===f.metric?(f.copy&&(b=Qa(o,b)),iu(u,b.data,b.strides[0],b.offset)):"correlation"===f.metric&&(f.copy&&(b=Qa(o,b)),p=r(),au(u,b.data,b.strides[0],b.offset,p,2,0,p,2,1))),c=t.data,d=t.strides[0],h=b.data,m=b.strides[0],y=b.offset,v=d*(_=ws(s,g,u,c,d,0,h,m,y)),w=a.get(_,0)+1,Es(u,w,c,1,v,h,m,y),E=s(u,c,1,v,h,m,y),e(_,E);return Yr(t.length,t.data,1,i.centroids.data,1),Yr(a.length,a.data,1,i.stats.data,1),i}function d(e,n){var i,o,a,c,h,p,m,d,y,v,b;if(arguments.length>1){if(!Nr(e))throw new TypeError("invalid argument. Output argument must be a 1-dimensional ndarray. Value: `"+e+"`.");y=e,d=n}else d=e;if(!so(d))throw new TypeError("invalid argument. Must provide a 2-dimensional ndarray. Value: `"+d+"`.");if(d.shape[1]!==u)throw new Error("invalid argument. Number of matrix columns must match centroid dimensions. Expected: "+u+". Actual: "+d.shape[1]+".");if(void 0===y)y=Ka(d.shape[0],!1);else if(y.length!==d.shape[0])throw new Error("invalid argument. Output vector length must match the number of data points. Expected: "+d.shape[0]+". Actual: "+y.length+".");if(l)return null;for(a=d.shape[0],f.normalize&&("cosine"===f.metric?(f.copy&&(d=Za(Xa(a,u,!0),d)),d=ou(d)):"correlation"===f.metric&&(f.copy&&(d=Za(Xa(a,u,!0),d)),d=uu(d,r()))),o=t.data,p=t.strides[0],i=d.data,c=d.strides[0],h=d.strides[1],m=d.offset,b=0;b<a;b++)v=ws(s,g,u,o,p,0,i,h,m),y.set(b,v),m+=c;return y}})),h(ks,"incrSGDRegression",(function(e){var t,r,n,i,o,a,u;if(a=Ku(Ss),arguments.length>0&&(u=Is(a,e)))throw u;switch(n=null,a.loss){case"epsilonInsensitive":r=Ns;break;case"huber":r=Vs;break;case"squaredError":r=Ls;break;default:throw Error("invalid input value. `loss` option must be either `epsilonInsensitive`, `huber` or `squaredError`. Value: `"+a.loss+"`")}function o(e,o){var u;if(n||(n=new Rs(e.length,a.intercept),t=a.intercept?n.nWeights-1:n.nWeights),!De(e)||e.length!==t)throw new TypeError("invalid input value. First argument `x` must be an array of length "+t+". Value: `"+e+"`");u=i(),r(n,e,o,u,a.lambda,a.epsilon)}return i=Ms(a.learningRate,a.eta0,a.lambda),J(o,"coefs",s),p(o,"predict",f),o;function s(){var e,t;for(e=new Array(n.nWeights),t=0;t<e.length;t++)e[t]=n._data[t]*n.scale;return e}function f(e){if(!De(e)||e.length!==t)throw new TypeError("invalid input value. First argument `x` must be an array of length "+this.nFeatures+". Value: `"+e+"`");return n.innerProduct(e)}})),ks}));
//# sourceMappingURL=index.js.map
